<!DOCTYPE html>
<html lang="zh-Hans">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>å›¾è®ºåŸºç¡€</title>
  
  <link rel="canonical" href="http://homxuwang.github.io/2019/03/29/%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/">
  
  <meta name="description" content="å›¾ä¸»è¦æ˜¯èŠ‚ç‚¹å’Œè¾¹ç»„æˆçš„æ¨¡å‹ã€‚å›¾å¯ä»¥ç”¨æ¥è¡¨è¾¾çœŸå®ä¸–ç•Œä¸­çš„å¾ˆå¤šå…³ç³»ï¼Œå¦‚äº¤é€šè¿è¾“ã€ç¤¾äº¤ç½‘ç»œã€äº’è”ç½‘ç­‰ã€‚å›¾åˆ†ä¸ºæœ‰å‘å›¾ï¼ˆDirected Graphï¼‰å’Œæ— å‘å›¾ï¼ˆUndirected Graphï¼‰ï¼Œæœ‰å‘å›¾ç”±äºå…¶ä¸å¯¹ç§°æ€§ï¼Œæ‰€æœ‰æœ‰æ—¶å€™ä¼šæ¶‰åŠå¾ˆå¤šæ¯”è¾ƒéš¾çš„ç®—æ³•ã€‚å¯ä»¥æŠŠæ— å‘å›¾çœ‹æˆä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ã€‚å›¾ä¹Ÿå¯ä»¥åˆ†ä¸ºæœ‰æƒå›¾ï¼ˆWe">
  
  
  <meta name="author" content="homxuwang">
  
  
  
  <meta property="og:site_name" content="Homxu" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="å›¾è®ºåŸºç¡€" />
  
  <meta property="og:description" content="å›¾ä¸»è¦æ˜¯èŠ‚ç‚¹å’Œè¾¹ç»„æˆçš„æ¨¡å‹ã€‚å›¾å¯ä»¥ç”¨æ¥è¡¨è¾¾çœŸå®ä¸–ç•Œä¸­çš„å¾ˆå¤šå…³ç³»ï¼Œå¦‚äº¤é€šè¿è¾“ã€ç¤¾äº¤ç½‘ç»œã€äº’è”ç½‘ç­‰ã€‚å›¾åˆ†ä¸ºæœ‰å‘å›¾ï¼ˆDirected Graphï¼‰å’Œæ— å‘å›¾ï¼ˆUndirected Graphï¼‰ï¼Œæœ‰å‘å›¾ç”±äºå…¶ä¸å¯¹ç§°æ€§ï¼Œæ‰€æœ‰æœ‰æ—¶å€™ä¼šæ¶‰åŠå¾ˆå¤šæ¯”è¾ƒéš¾çš„ç®—æ³•ã€‚å¯ä»¥æŠŠæ— å‘å›¾çœ‹æˆä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ã€‚å›¾ä¹Ÿå¯ä»¥åˆ†ä¸ºæœ‰æƒå›¾ï¼ˆWe">
  
  <meta property="og:url" content="http://homxuwang.github.io/2019/03/29/%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="å›¾è®ºåŸºç¡€">
  
  <meta name="twitter:description" content="å›¾ä¸»è¦æ˜¯èŠ‚ç‚¹å’Œè¾¹ç»„æˆçš„æ¨¡å‹ã€‚å›¾å¯ä»¥ç”¨æ¥è¡¨è¾¾çœŸå®ä¸–ç•Œä¸­çš„å¾ˆå¤šå…³ç³»ï¼Œå¦‚äº¤é€šè¿è¾“ã€ç¤¾äº¤ç½‘ç»œã€äº’è”ç½‘ç­‰ã€‚å›¾åˆ†ä¸ºæœ‰å‘å›¾ï¼ˆDirected Graphï¼‰å’Œæ— å‘å›¾ï¼ˆUndirected Graphï¼‰ï¼Œæœ‰å‘å›¾ç”±äºå…¶ä¸å¯¹ç§°æ€§ï¼Œæ‰€æœ‰æœ‰æ—¶å€™ä¼šæ¶‰åŠå¾ˆå¤šæ¯”è¾ƒéš¾çš„ç®—æ³•ã€‚å¯ä»¥æŠŠæ— å‘å›¾çœ‹æˆä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ã€‚å›¾ä¹Ÿå¯ä»¥åˆ†ä¸ºæœ‰æƒå›¾ï¼ˆWe">
  
  
  
  
  <meta name="twitter:url" content="http://homxuwang.github.io/2019/03/29/%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

  
  <script src="/js/pic.min.js" defer></script>
  

  
  <script src="/js/search.min.js" defer></script>
  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi July.HX
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>å›¾è®ºåŸºç¡€</h2>

  <p>å›¾ä¸»è¦æ˜¯èŠ‚ç‚¹å’Œè¾¹ç»„æˆçš„æ¨¡å‹ã€‚å›¾å¯ä»¥ç”¨æ¥è¡¨è¾¾çœŸå®ä¸–ç•Œä¸­çš„å¾ˆå¤šå…³ç³»ï¼Œå¦‚äº¤é€šè¿è¾“ã€ç¤¾äº¤ç½‘ç»œã€äº’è”ç½‘ç­‰ã€‚<br>å›¾åˆ†ä¸ºæœ‰å‘å›¾ï¼ˆDirected Graphï¼‰å’Œæ— å‘å›¾ï¼ˆUndirected Graphï¼‰ï¼Œæœ‰å‘å›¾ç”±äºå…¶ä¸å¯¹ç§°æ€§ï¼Œæ‰€æœ‰æœ‰æ—¶å€™ä¼šæ¶‰åŠå¾ˆå¤šæ¯”è¾ƒéš¾çš„ç®—æ³•ã€‚å¯ä»¥æŠŠæ— å‘å›¾çœ‹æˆä¸€ç§ç‰¹æ®Šçš„æœ‰å‘å›¾ã€‚<br>å›¾ä¹Ÿå¯ä»¥åˆ†ä¸ºæœ‰æƒå›¾ï¼ˆWeighted Graphï¼‰å’Œæ— æƒå›¾ï¼ˆUnweighted Graphï¼‰ï¼Œæƒæ˜¯æŒ‡èŠ‚ç‚¹ä¸èŠ‚ç‚¹ä¹‹é—´çš„è¾¹çš„æ•°å€¼ã€‚<br>å›¾ä¸ä¸€å®šéƒ½è¦è¿æ¥èµ·æ¥ï¼Œæ¯”å¦‚ä¸€ä¸ªæ¨¡å‹ä¸­æœ‰ä¸‰ä¸ªæ²¡æœ‰è¿é€šèµ·æ¥çš„å›¾ã€‚<br>æœ‰çš„å›¾ä¸­æœ‰å¯èƒ½ä¼šæœ‰è‡ªç¯è¾¹ï¼ˆself-loopï¼‰å’Œå¹³è¡Œè¾¹ï¼ˆparallel-edgesï¼‰ï¼Œç®€å•å›¾ï¼ˆSimple Graphï¼‰å°±æ˜¯æŒ‡æ²¡æœ‰è‡ªç¯è¾¹å’Œå¹³è¡Œè¾¹çš„å›¾ï¼Œå› ä¸ºæœ‰äº†è‡ªç¯è¾¹å’Œå¹³è¡Œè¾¹ï¼Œé‚£ä¹ˆç®—æ³•å¯èƒ½ä¼šæ›´åŠ å¤æ‚ã€‚</p>
<h1 id="å›¾çš„è¡¨ç¤º"><a href="#å›¾çš„è¡¨ç¤º" class="headerlink" title="å›¾çš„è¡¨ç¤º"></a>å›¾çš„è¡¨ç¤º</h1><h2 id="é‚»æ¥çŸ©é˜µ"><a href="#é‚»æ¥çŸ©é˜µ" class="headerlink" title="é‚»æ¥çŸ©é˜µ"></a>é‚»æ¥çŸ©é˜µ</h2><p>ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨é‚»æ¥çŸ©é˜µï¼ˆAdjacency Matrixï¼‰è¡¨ç¤ºä¸€å¼ å›¾ã€‚<br>ä½¿ç”¨é‚»æ¥çŸ©é˜µè¡¨ç¤ºè¿™ä¸ªæ— å‘å›¾ï¼Œa[i,j]ä»£è¡¨çš„å€¼ä¸º0æˆ–1ã€‚0ä»£è¡¨ä¸ç›¸è¿ï¼Œ1ä»£è¡¨ç›¸è¿ã€‚è¿™ä¸ªçŸ©é˜µæ˜¯å…³äºå¯¹è§’çº¿å¯¹ç§°çš„ã€‚<br><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/1.png" alt="é‚»æ¥çŸ©é˜µè¡¨ç¤ºæ— å‘å›¾"><br>ä¹Ÿå¯ä»¥ä½¿ç”¨é‚»æ¥çŸ©é˜µè¡¨ç¤ºæœ‰å‘å›¾ã€‚ä¾‹å¦‚ï¼Œ0-&gt;1å­˜åœ¨æœ‰å‘è¾¹ï¼Œé‚£ä¹ˆa[0,1]=1;ä½†æ˜¯1-&gt;0ä¸å­˜åœ¨æœ‰å‘è¾¹ï¼Œæ‰€ä»¥a[1,0]=0ã€‚<br><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/2.png" alt="é‚»æ¥çŸ©é˜µè¡¨ç¤ºæœ‰å‘å›¾"></p>
<h2 id="é‚»æ¥è¡¨"><a href="#é‚»æ¥è¡¨" class="headerlink" title="é‚»æ¥è¡¨"></a>é‚»æ¥è¡¨</h2><p>é‚»æ¥è¡¨ï¼ˆAdjacency Listsï¼‰åªè¡¨è¾¾å’ŒæŸä¸ªé¡¶ç‚¹ç›¸è¿æ¥çš„é¡¶ç‚¹çš„ä¿¡æ¯ã€‚å¯¹äºæ¯ä¸€è¡Œæ¥è¯´éƒ½ç›¸å½“äºä¸€ä¸ªé“¾è¡¨ï¼Œå­˜æ”¾äº†å¯¹äºè¯¥èŠ‚ç‚¹ç›¸è¿çš„æ‰€æœ‰èŠ‚ç‚¹ã€‚<br><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/3.png" alt="é‚»æ¥è¡¨è¡¨ç¤ºæ— å‘å›¾"><br>åŒæ ·ï¼Œé‚»æ¥è¡¨ä¹Ÿå¯ä»¥è¡¨è¾¾æœ‰å‘å›¾ã€‚<br><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/4.png" alt="é‚»æ¥è¡¨è¡¨ç¤ºæœ‰å‘å›¾"></p>
<p>ç”±æ­¤å¯è§ï¼Œé‚»æ¥è¡¨çš„å ç”¨ç©ºé—´è¦æ¯”é‚»æ¥çŸ©é˜µå°ã€‚<br>é‚»æ¥è¡¨é€‚åˆè¡¨ç¤ºç¨€ç–å›¾ï¼ˆSparse Graphï¼‰<br>é‚»æ¥çŸ©é˜µé€‚åˆè¡¨ç¤ºç¨ å¯†å›¾ï¼ˆDense Graphï¼‰</p>
<blockquote>
<p>æ•°æ®ç»“æ„ä¸­å¯¹äºç¨€ç–å›¾çš„å®šä¹‰ä¸ºï¼šæœ‰å¾ˆå°‘æ¡è¾¹æˆ–å¼§ï¼ˆè¾¹çš„æ¡æ•°|E|è¿œå°äº|V|Â²ï¼‰çš„å›¾ç§°ä¸ºç¨€ç–å›¾ï¼ˆsparse graphï¼‰ï¼Œåä¹‹è¾¹çš„æ¡æ•°|E|æ¥è¿‘|V|Â²ï¼Œç§°ä¸ºç¨ å¯†å›¾ï¼ˆdense graphï¼‰ã€‚â€”â€”ç™¾åº¦ç™¾ç§‘<br>ç¨ å¯†å›¾çš„ä¸€ä¸ªæç«¯æƒ…å†µå°±æ˜¯å®Œå…¨å›¾ï¼Œå³æ‰€æœ‰çš„ç‚¹ä¹‹é—´éƒ½äº’ç›¸è¿æ¥ã€‚è¿™ç§æƒ…å†µä½¿ç”¨é‚»æ¥çŸ©é˜µè¿›è¡Œå­˜å‚¨ä¼šæ›´å¥½ã€‚</p>
</blockquote>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><h3 id="C"><a href="#C" class="headerlink" title="C++"></a>C++</h3><p><code>DenseGraph.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GRAPH_DENSEGRAPH_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GRAPH_DENSEGRAPH_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨ å¯†å›¾ - é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DenseGraph</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> n,m;<span class="comment">//ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class="line">    <span class="keyword">bool</span> directed;<span class="comment">//æœ‰å‘è¿˜æ˜¯æ— å‘å›¾</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt; &gt; g; <span class="comment">//trueè¡¨ç¤ºæœ‰è¿™æ¡è¾¹,falseè¡¨ç¤ºæ²¡æœ‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    DenseGraph( <span class="keyword">int</span> n , <span class="keyword">bool</span> directed)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;n = n;<span class="comment">//nä¸ªé¡¶ç‚¹</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;m = <span class="number">0</span>;<span class="comment">//åˆå§‹ä¸º0æ¡è¾¹</span></span><br><span class="line">        <span class="keyword">this</span>-&gt;directed = directed;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++)</span><br><span class="line">            g.push_back( <span class="built_in">vector</span>&lt;<span class="keyword">bool</span>&gt;( n, <span class="literal">false</span> ));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~DenseGraph() &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">V</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> n;&#125;<span class="comment">//è¿”å›é¡¶ç‚¹æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">E</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> m;&#125;<span class="comment">//è¿”å›è¾¹æ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">( <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span>&#123; <span class="comment">//åœ¨é¡¶ç‚¹vå’Œwé—´å»ºç«‹ä¸€æ¡è¾¹</span></span><br><span class="line">        <span class="comment">//ä¿è¯vå’Œwä¸è¶Šç•Œ</span></span><br><span class="line">        assert( v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n );</span><br><span class="line">        assert( w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n );</span><br><span class="line">        <span class="comment">//å…ˆåˆ¤æ–­vå’Œwä¹‹é—´æ˜¯å¦å·²ç»æœ‰è¾¹</span></span><br><span class="line">        <span class="keyword">if</span>( hasEdge( v, w )) <span class="comment">//è¿™é‡Œé¿å…äº†äº§ç”Ÿå¹³è¡Œè¾¹çš„æƒ…å†µï¼Œè¿™ä¹Ÿæ˜¯ä½¿ç”¨é‚»æ¥çŸ©é˜µçš„ä¼˜ç‚¹</span></span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        g[v][w] = <span class="literal">true</span>; <span class="comment">//å¦‚æœæ˜¯æœ‰å‘å›¾ï¼Œåªéœ€è¿è¡Œè¿™ä¸€å¥è¯</span></span><br><span class="line">        <span class="keyword">if</span>( !directed ) <span class="comment">//å¦‚æœæ˜¯æ— å‘å›¾</span></span><br><span class="line">            g[w][v] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        m++; <span class="comment">//ç»´æŠ¤è¾¹æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasEdge</span><span class="params">( <span class="keyword">int</span> v , <span class="keyword">int</span> w )</span></span>&#123; <span class="comment">//åˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹æ˜¯å¦å·²ç»æœ‰è¾¹</span></span><br><span class="line">        <span class="comment">//ä¿è¯vå’Œwä¸è¶Šç•Œ</span></span><br><span class="line">        assert( v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n );</span><br><span class="line">        assert( w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> g[v][w];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// GRAPH_DENSEGRAPH_H</span></span></span><br></pre></td></tr></table></figure>
<p><code>SparseGraph.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GRAPH_SPARSEGRAPH_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GRAPH_SPARSEGRAPH_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨€ç–å›¾ - é‚»æ¥è¡¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SparseGraph</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">int</span> n,m;</span><br><span class="line">    <span class="keyword">bool</span> directed;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; g;  <span class="comment">// å›¾çš„å…·ä½“æ•°æ®</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    SparseGraph( <span class="keyword">int</span> n , <span class="keyword">bool</span> directed )&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;n = n;</span><br><span class="line">        <span class="keyword">this</span>-&gt;m = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>-&gt;directed = directed;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++)&#123;</span><br><span class="line">            g.push_back(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;()); <span class="comment">//åˆå§‹åŒ–æ—¶ä¸ºç©ºï¼Œå› ä¸ºåˆå§‹åŒ–æ—¶æ²¡æœ‰é¡¶ç‚¹ç›¸è¿æ¥ï¼Œè¿™é‡Œä¹Ÿå¯ä»¥ç”¨é“¾è¡¨å®ç°ï¼Œä½¿ç”¨é“¾è¡¨åœ¨åˆ é™¤æ—¶æ•ˆç‡é«˜</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~SparseGraph()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">V</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> n;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">E</span><span class="params">()</span></span>&#123;<span class="keyword">return</span> m;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨ä½¿ç”¨é‚»æ¥è¡¨è¿›è¡Œè¡¨è¾¾çš„æ—¶å€™ï¼Œé€šå¸¸å…è®¸æœ‰å¹³è¡Œè¾¹</span></span><br><span class="line">    <span class="comment">//å› ä¸ºaddEdgeæ—¶ï¼Œæ¯è¿›è¡Œä¸€æ¬¡æ·»åŠ ï¼Œéƒ½è¦è°ƒç”¨hasEdgeè¿›è¡Œåˆ¤æ–­ï¼Œè€ŒhasEdgeæœ€å·®çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)</span></span><br><span class="line">    <span class="comment">//æ‰€ä»¥addEdgeä¹Ÿä¼šé€€åŒ–ä¸ºO(n)ï¼Œä¸€èˆ¬åœ¨æ‰€æœ‰çš„è¾¹æ·»åŠ å®Œæˆåå†è¿›è¡Œä¸€æ¬¡ç»¼åˆæ£€æŸ¥ï¼Œå»é™¤å¹³è¡Œè¾¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">addEdge</span><span class="params">( <span class="keyword">int</span> v , <span class="keyword">int</span> w )</span></span>&#123;</span><br><span class="line">         <span class="comment">//ä¿è¯vå’Œwä¸è¶Šç•Œ</span></span><br><span class="line">        assert( v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n );</span><br><span class="line">        assert( w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n );</span><br><span class="line"></span><br><span class="line">        g[v].push_back(w);<span class="comment">//vå’Œwç›¸è¿</span></span><br><span class="line">        <span class="keyword">if</span>( v != w &amp;&amp; !directed ) <span class="comment">//å¦‚æœvä¸æ˜¯è‡ªç¯è¾¹ä¸”ä¸æ˜¯æœ‰å‘å›¾</span></span><br><span class="line">            g[w].push_back(v);</span><br><span class="line"></span><br><span class="line">        m ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">hasEdge</span><span class="params">( <span class="keyword">int</span> v , <span class="keyword">int</span> w )</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        assert( v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n );</span><br><span class="line">        assert( w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n );</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; g[v].size() ; i++ )</span><br><span class="line">            <span class="keyword">if</span>( g[v][i] == w )</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// GRAPH_SPARSEGRAPH_H</span></span></span><br></pre></td></tr></table></figure>

<h1 id="éå†ä¸´è¾¹â€”â€”ç›¸é‚»ç‚¹è¿­ä»£å™¨"><a href="#éå†ä¸´è¾¹â€”â€”ç›¸é‚»ç‚¹è¿­ä»£å™¨" class="headerlink" title="éå†ä¸´è¾¹â€”â€”ç›¸é‚»ç‚¹è¿­ä»£å™¨"></a>éå†ä¸´è¾¹â€”â€”ç›¸é‚»ç‚¹è¿­ä»£å™¨</h1><p>åœ¨å›¾çš„æ“ä½œä¸­ï¼Œæœ‰ä¸€ä¸ªåŸºç¡€æ“ä½œâ€”â€”éå†ä¸´è¾¹ã€‚ä¸‹å›¾æ˜¯å¯¹0èŠ‚ç‚¹è¡¨è¾¾ä¸´è¾¹æ—¶é‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨çš„ä¸åŒã€‚è¿™ä¸ªå›¾ä¹Ÿåæ˜ äº†éå†0çš„ä¸´è¾¹çš„æ–¹æ³•ã€‚</p>
<p><font size = 5 color = red >è¿™ä¸ªæ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ“ä½œï¼Œåœ¨åé¢çš„å¾ˆå¤šæ–¹æ³•ä¸­éƒ½ç”¨åˆ°äº†å®ƒï¼ï¼ï¼ï¼</font></p>
<p><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/5.png" alt="éå†ä¸´è¾¹"></p>
<p>ä¸‹é¢åˆ¶ä½œä¸€ä¸ªè¿­ä»£å™¨ï¼Œç”¨æ¥è®¿é—®ä¸€ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰ä¸´è¾¹ã€‚</p>
<p><code>SparseGraph.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> GRAPH_SPARSEGRAPH_H</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> GRAPH_SPARSEGRAPH_H</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨€ç–å›¾ - é‚»æ¥è¡¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SparseGraph</span>&#123;</span></span><br><span class="line">    <span class="comment">//...........çœç•¥ä»£ç </span></span><br><span class="line">     <span class="comment">// é‚»è¾¹è¿­ä»£å™¨, ä¼ å…¥ä¸€ä¸ªå›¾å’Œä¸€ä¸ªé¡¶ç‚¹,</span></span><br><span class="line">    <span class="comment">// è¿­ä»£åœ¨è¿™ä¸ªå›¾ä¸­å’Œè¿™ä¸ªé¡¶ç‚¹å‘è¿çš„æ‰€æœ‰é¡¶ç‚¹</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">adjIterator</span> &#123;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    SparseGraph &amp;G; <span class="comment">// å›¾Gçš„å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">int</span> v;</span><br><span class="line">    <span class="keyword">int</span> index;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    adjIterator(SparseGraph &amp;graph, <span class="keyword">int</span> v ): G(graph)&#123;</span><br><span class="line">        <span class="keyword">this</span>-&gt;v = v;</span><br><span class="line">        <span class="keyword">this</span>-&gt;index = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~adjIterator()&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å›¾Gä¸­ä¸é¡¶ç‚¹vç›¸è¿æ¥çš„ç¬¬ä¸€ä¸ªé¡¶ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">begin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span>( G.g[v].size() )</span><br><span class="line">            <span class="keyword">return</span> G.g[v][index];<span class="comment">//å³g[v][0]</span></span><br><span class="line">        <span class="comment">// è‹¥æ²¡æœ‰é¡¶ç‚¹å’Œvç›¸è¿æ¥, åˆ™è¿”å›-1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// è¿”å›å›¾Gä¸­ä¸é¡¶ç‚¹vç›¸è¿æ¥çš„ä¸‹ä¸€ä¸ªé¡¶ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">next</span><span class="params">()</span></span>&#123;</span><br><span class="line">        index ++;</span><br><span class="line">        <span class="keyword">if</span>( index &lt; G.g[v].size() )</span><br><span class="line">            <span class="keyword">return</span> G.v[v][index];</span><br><span class="line">        <span class="comment">// è‹¥æ²¡æœ‰é¡¶ç‚¹å’Œvç›¸è¿æ¥, åˆ™è¿”å›-1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">end</span><span class="params">()</span></span>&#123; <span class="comment">//åˆ¤æ–­æ˜¯å¦è¿­ä»£å®Œæˆ</span></span><br><span class="line">        <span class="keyword">return</span> index &gt;= G.g[v].size();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// GRAPH_SPARSEGRAPH_H</span></span></span><br></pre></td></tr></table></figure>



<p>åœ¨<code>main</code>ä¸­è¿›è¡Œæµ‹è¯•ï¼š</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;SparseGraph.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;DenseGraph.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> N = <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">int</span> M = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    srand( time(<span class="literal">NULL</span>) );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Sparse Graph</span></span><br><span class="line">    <span class="function">SparseGraph <span class="title">g1</span><span class="params">(N , <span class="literal">false</span>)</span></span>;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; M ; i ++ )&#123;</span><br><span class="line">        <span class="keyword">int</span> a = rand()%N;</span><br><span class="line">        <span class="keyword">int</span> b = rand()%N;</span><br><span class="line">        g1.addEdge( a , b );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// O(E)</span></span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> v = <span class="number">0</span> ; v &lt; N ; v ++ )&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;v&lt;&lt;<span class="string">&quot; : &quot;</span>;</span><br><span class="line">        <span class="function">SparseGraph::adjIterator <span class="title">adj</span><span class="params">( g1 , v )</span></span>;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> w = adj.begin() ; !adj.end() ; w = adj.next() )</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;w&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/6.png" alt="æµ‹è¯•ç»“æœ"></p>
<p>å¯ä»¥çœ‹åˆ°ç¨€ç–å›¾å†²å­˜åœ¨å¹³è¡Œè¾¹ï¼Œä½†æ˜¯ç¨ å¯†å›¾ä¸­æ²¡æœ‰å¹³è¡Œè¾¹ã€‚ç¨€ç–å›¾çš„éå†æ—¶é—´å¤æ‚åº¦ä¸ºO(E),ç¨ å¯†å›¾çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(V^2)ã€‚Eä¸ºè¾¹æ•°ï¼ŒVä¸ºé¡¶ç‚¹æ•°ã€‚</p>
<h1 id="å›¾çš„ç®—æ³•æ¡†æ¶"><a href="#å›¾çš„ç®—æ³•æ¡†æ¶" class="headerlink" title="å›¾çš„ç®—æ³•æ¡†æ¶"></a>å›¾çš„ç®—æ³•æ¡†æ¶</h1><p>åˆ›å»ºæ–‡ä»¶<code>testG1.txt</code>ï¼Œç”¨æ–‡ä»¶æ¥è¡¨ç¤ºä¸€ä¸ªå›¾ã€‚å¦‚ä¸‹é¢çš„æ•°æ®ï¼šç¬¬ä¸€è¡Œè¡¨ç¤ºæœ‰13ä¸ªèŠ‚ç‚¹å’Œ13æ¡è¾¹ï¼Œç¬¬äºŒè¡Œ<code>0 5</code>åˆ™è¡¨ç¤ºèŠ‚ç‚¹0 å’Œ 5ä¹‹é—´æœ‰ä¸€æ¡è¾¹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">13 13</span><br><span class="line">0 5</span><br><span class="line">4 3</span><br><span class="line">0 1</span><br><span class="line">9 12</span><br><span class="line">6 4</span><br><span class="line">5 4</span><br><span class="line">0 2</span><br><span class="line">11 12</span><br><span class="line">9 10</span><br><span class="line">0 6</span><br><span class="line">7 8</span><br><span class="line">9 11</span><br><span class="line">5 3</span><br></pre></td></tr></table></figure>
<p>åŒæ ·åˆ›å»ºç¬¬äºŒä¸ªæ–‡ä»¶<code>testG2.txt</code>è¡¨ç¤ºå¦ä¸€ä¸ªå›¾ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">6 8</span><br><span class="line">0 1</span><br><span class="line">0 2</span><br><span class="line">0 5</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">3 4</span><br><span class="line">3 5</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢è®¾è®¡ä¸€ä¸ªä»æ–‡ä»¶ä¸­è¯»å–å›¾çš„ç®—æ³•ï¼ˆæ— è®ºæ˜¯ç¨€ç–å›¾è¿˜æ˜¯ç¨ å¯†å›¾éƒ½é€šç”¨ï¼‰,å°è£…åœ¨<code>ReadGraph.h</code>ç±»ä¸­ã€‚è¯¥ç±»æ˜¯ä¸€ä¸ªæ¨¡æ¿ç±»ï¼ŒæŒ‡å®šä¸€ä¸ªå›¾çš„å¼•ç”¨å’Œä¸€ä¸ªç”¨æ¥è¡¨ç¤ºå›¾çš„æ–‡ä»¶ï¼Œå°†æ–‡ä»¶ä¸­å­˜æ”¾çš„æ•°æ®å­˜åˆ°å›¾ä¸­ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> READGRAPH_H_INCLUDED</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> READGRAPH_H_INCLUDED</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;fstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;sstream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cassert&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> Graph&gt;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ReadGraph</span>&#123;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    ReadGraph(Graph &amp;graph,<span class="keyword">const</span> <span class="built_in">string</span> &amp;filename)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="function">ifstream <span class="title">file</span><span class="params">(filename)</span></span>;</span><br><span class="line">        <span class="built_in">string</span> line;</span><br><span class="line">        <span class="keyword">int</span> V,E;</span><br><span class="line"></span><br><span class="line">        assert( file.is_open() );</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é¦–å…ˆè¯»å–é¡¶ç‚¹æ•°å’Œè¾¹æ•°</span></span><br><span class="line">        assert( getline(file,line) );</span><br><span class="line">        <span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(line)</span></span>;</span><br><span class="line">        ss&gt;&gt;V&gt;&gt;E;</span><br><span class="line"></span><br><span class="line">        assert( V == graph.V() );</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç„¶ååˆ›å»ºå›¾</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; E ; i++)&#123;</span><br><span class="line">            assert( getline(file,line) );</span><br><span class="line">            <span class="function"><span class="built_in">stringstream</span> <span class="title">ss</span><span class="params">(line)</span></span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> a,b;</span><br><span class="line">            ss&gt;&gt;a&gt;&gt;b;</span><br><span class="line"></span><br><span class="line">            assert( a &gt;= <span class="number">0</span> &amp;&amp; a &lt; V );</span><br><span class="line">            assert( b &gt;= <span class="number">0</span> &amp;&amp; b &lt; V );</span><br><span class="line">            graph.addEdge( a , b );</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// READGRAPH_H_INCLUDED</span></span></span><br></pre></td></tr></table></figure>

<p>åœ¨<code>SparseGraph.h</code>å’Œ<code>DenseGraph.h</code>ä¸­æ·»åŠ ä¸€ä¸ªæ–¹æ³•<code>show()</code>ç”¨æ¥æ‰“å°å›¾:<br><code>SparseGraph.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;vertex &quot;</span>&lt;&lt;i&lt;&lt;<span class="string">&quot;:\t&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; g[i].size() ; j++ )&#123;</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;g[i][j]&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>DenseGraph.h</code></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; n ; j ++)</span><br><span class="line">            <span class="built_in">cout</span>&lt;&lt;g[i][j]&lt;&lt;<span class="string">&quot;\t&quot;</span>;</span><br><span class="line">        <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨mainå‡½æ•°ä¸­è¿›è¡Œæµ‹è¯•:</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;SparseGraph.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;DenseGraph.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;ReadGraph.h&quot;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ä¸¤ç§å›¾çš„å­˜å‚¨æ–¹å¼è¯»å–testG1.txtæ–‡ä»¶</span></span><br><span class="line">    <span class="built_in">string</span> filename = <span class="string">&quot;testG1.txt&quot;</span>;</span><br><span class="line">    <span class="function">SparseGraph <span class="title">g1</span><span class="params">( <span class="number">13</span> , <span class="literal">false</span> )</span></span>;</span><br><span class="line">    <span class="function">ReadGraph&lt;SparseGraph&gt; <span class="title">readGraph1</span><span class="params">( g1 , filename )</span></span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;test G1 in Sparse Graph:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    g1.show();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">DenseGraph <span class="title">g2</span><span class="params">( <span class="number">13</span> , <span class="literal">false</span> )</span></span>;</span><br><span class="line">    <span class="function">ReadGraph&lt;DenseGraph&gt; <span class="title">readGraph2</span><span class="params">( g2 , filename )</span></span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;test G1 in Dense Graph:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    g2.show();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ä¸¤ç§å›¾çš„å­˜å‚¨æ–¹å¼è¯»å–testG2.txtæ–‡ä»¶</span></span><br><span class="line">    filename = <span class="string">&quot;testG2.txt&quot;</span>;</span><br><span class="line">    <span class="function">SparseGraph <span class="title">g3</span><span class="params">( <span class="number">6</span> , <span class="literal">false</span> )</span></span>;</span><br><span class="line">    <span class="function">ReadGraph&lt;SparseGraph&gt; <span class="title">readGraph3</span><span class="params">( g3 , filename )</span></span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;test G2 in Sparse Graph:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    g3.show();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">DenseGraph <span class="title">g4</span><span class="params">( <span class="number">6</span> , <span class="literal">false</span> )</span></span>;</span><br><span class="line">    <span class="function">ReadGraph&lt;DenseGraph&gt; <span class="title">readGraph4</span><span class="params">( g4 , filename )</span></span>;</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;test G2 in Dense Graph:&quot;</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    g4.show();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°ä½¿ç”¨é‚»æ¥çŸ©é˜µå’Œé‚»æ¥è¡¨åˆ›å»ºçš„å›¾çš„ç»“æœ:</p>
<p><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/7.png" alt="æµ‹è¯•ç»“æœG1"></p>
<p><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/10.png" alt="æµ‹è¯•ç»“æœG2"></p>
<h1 id="javaè¡¨è¾¾"><a href="#javaè¡¨è¾¾" class="headerlink" title="javaè¡¨è¾¾"></a>javaè¡¨è¾¾</h1><p>é¦–å…ˆå®šä¹‰å›¾çš„æ¥å£<code>Graph.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å›¾çš„æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Graph</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">V</span><span class="params">()</span></span>;  <span class="comment">//è·å–å›¾çš„é¡¶ç‚¹æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">E</span><span class="params">()</span></span>;  <span class="comment">//è·å–å›¾çš„è¾¹æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">( <span class="keyword">int</span> v ,<span class="keyword">int</span> w)</span></span>; <span class="comment">//åœ¨vå’Œwä¸¤ä¸ªé¡¶ç‚¹é—´æ·»åŠ ä¸€æ¡è¾¹</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasEdge</span><span class="params">( <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span>;<span class="comment">//æŸ¥çœ‹vå’Œwä¸¤ä¸ªé¡¶ç‚¹é—´æ˜¯å¦æœ‰è¾¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;<span class="comment">//æ‰“å°å›¾</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title">adj</span><span class="params">(<span class="keyword">int</span> v)</span></span>; <span class="comment">//è·å–ä¸vé¡¶ç‚¹è¿æ¥çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰ç¨ å¯†å›¾<code>DenseGraph.java</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨ å¯†å›¾ - é‚»æ¥çŸ©é˜µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DenseGraph</span> <span class="keyword">implements</span> <span class="title">Graph</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n; <span class="comment">//èŠ‚ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m; <span class="comment">//è¾¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> directed; <span class="comment">// æ˜¯å¦ä¸ºæœ‰å‘å›¾</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[][] g; <span class="comment">//å›¾çš„å…·ä½“æ•°æ®ï¼Œç”¨äºŒç»´æ•°ç»„è¡¨è¾¾</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DenseGraph</span><span class="params">( <span class="keyword">int</span> n , <span class="keyword">boolean</span> directed)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">0</span>)<span class="comment">//ä¿è¯nè¦&gt;=0</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of n should be &gt;= 0.&quot;</span>); </span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        <span class="keyword">this</span>.m = <span class="number">0</span> ;<span class="comment">//åˆå§‹åŒ–æ—¶æ²¡æœ‰ä»»ä½•è¾¹</span></span><br><span class="line">        <span class="keyword">this</span>.directed = directed;</span><br><span class="line">        <span class="comment">//gåˆå§‹åŒ–æ—¶ä¸ºn*nçš„å¸ƒå°”å‹çŸ©é˜µ,æ¯ä¸ªg[i][j]å‡ä¸ºfalseï¼Œå› ä¸ºå¼€å§‹æ—¶æ²¡æœ‰ä»»ä½•è¾¹</span></span><br><span class="line">        <span class="comment">//falseä¸ºbooleanå‹å˜é‡çš„é»˜è®¤å€¼</span></span><br><span class="line">        g = <span class="keyword">new</span> <span class="keyword">boolean</span>[n][n];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">V</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›è¾¹æ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">E</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘å›¾ä¸­æ·»åŠ ä¸€æ¡è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¦‚æœvå’Œwé—´å·²å­˜åœ¨è¾¹ï¼Œåˆ™ç›´æ¥é€€å‡º</span></span><br><span class="line">        <span class="keyword">if</span>(hasEdge( v , w ))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        g[v][w] = <span class="keyword">true</span>;<span class="comment">//vå’Œwé—´å»ºç«‹è¾¹</span></span><br><span class="line">        <span class="keyword">if</span>( !directed ) <span class="comment">//å¦‚æœä¸æ˜¯æœ‰å‘å›¾,åˆ™ç»§ç»­å»ºç«‹wåˆ°vçš„è¾¹</span></span><br><span class="line">            g[w][v] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">        m ++;<span class="comment">//ç»´æŠ¤è¾¹æ•°ï¼Œè¾¹æ•°åŠ ä¸€</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­å›¾ä¸­æ˜¯å¦æœ‰våˆ°wçš„è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> g[v][w];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰“å°æ˜¾ç¤ºå›¾çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>  i = <span class="number">0</span> ; i &lt; n ; i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>( <span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; n ; j ++)</span><br><span class="line">                System.out.print(g[i][j]+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›å›¾ä¸­vé¡¶ç‚¹çš„æ‰€æœ‰é‚»è¾¹</span></span><br><span class="line">    <span class="comment">//ç”±äºjavaä½¿ç”¨å¼•ç”¨æœºåˆ¶ï¼Œè¿”å›ä¸€ä¸ªVectorä¸ä¼šå¸¦æ¥é¢å¤–å¼€é”€</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title">adj</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        Vector&lt;Integer&gt; adjV = <span class="keyword">new</span> Vector&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">            <span class="keyword">if</span>(g[v][i])</span><br><span class="line">                adjV.add(i);</span><br><span class="line">        <span class="keyword">return</span> adjV;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¨€ç–å›¾<code>SparseGraph.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¨€ç–å›¾ - é‚»æ¥è¡¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SparseGraph</span> <span class="keyword">implements</span> <span class="title">Graph</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n; <span class="comment">//èŠ‚ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m; <span class="comment">//è¾¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> directed; <span class="comment">//æ˜¯å¦ä¸ºæœ‰å‘å›¾</span></span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Integer&gt;[] g; <span class="comment">//å›¾çš„å…·ä½“æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SparseGraph</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">boolean</span> directed)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of n should be &gt;= 0.&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        <span class="keyword">this</span>.m = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.directed = directed;</span><br><span class="line">        <span class="comment">//gåˆå§‹åŒ–ä¸ºnä¸ªç©ºçš„vector,è¡¨ç¤ºæ¯ä¸€ä¸ªg[i]éƒ½ä¸ºç©ºï¼Œå³æ²¡æœ‰ä»»ä½•è¾¹</span></span><br><span class="line">        g = (Vector&lt;Integer&gt;[]) <span class="keyword">new</span> Vector[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++)</span><br><span class="line">            g[i] = <span class="keyword">new</span> Vector&lt;Integer&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">V</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›è¾¹æ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">E</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘å›¾ä¸­æ·»åŠ ä¸€æ¡è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        g[v].add(w);</span><br><span class="line">        <span class="keyword">if</span>(v != w &amp;&amp; !directed) <span class="comment">//å¦‚æœä¸æ˜¯è‡ªç¯è¾¹ï¼Œå¹¶ä¸”å®ƒæ˜¯æ— å‘å›¾ï¼Œåˆ™åˆ›å»ºwåˆ°vçš„è¾¹</span></span><br><span class="line">            g[w].add(v);</span><br><span class="line"></span><br><span class="line">        m ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éªŒè¯å›¾ä¸­æ˜¯å¦æœ‰våˆ°wçš„è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; g[v].size() ; i++)</span><br><span class="line">            <span class="keyword">if</span>( g[v].elementAt(i) == w)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¾ç¤ºå›¾çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n ; i ++)&#123;</span><br><span class="line">            System.out.printf(<span class="string">&quot;vertex %d :\t&quot;</span>,i);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; g[i].size() ; j++)</span><br><span class="line">                System.out.print(g[i].elementAt(j) + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å›¾ä¸­ä¸€ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰é‚»è¾¹</span></span><br><span class="line">    <span class="comment">// ç”±äºjavaä½¿ç”¨å¼•ç”¨æœºåˆ¶ï¼Œè¿”å›ä¸€ä¸ªVectorä¸ä¼šå¸¦æ¥é¢å¤–å¼€é”€,</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Iterable&lt;Integer&gt; <span class="title">adj</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> g[v];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯»å–å›¾æ–‡ä»¶<code>ReadGraph.java</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadGraph</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Scanner scanner;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ReadGraph</span><span class="params">(Graph graph, String filename)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        readFile(filename);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> V = scanner.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (V &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;number of vertices in a Graph must be nonnegative&quot;</span>);</span><br><span class="line">            <span class="keyword">assert</span> V == graph.V();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> E = scanner.nextInt();</span><br><span class="line">            <span class="keyword">if</span> (E &lt; <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;number of edges in a Graph must be nonnegative&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; E; i++) &#123;</span><br><span class="line">                <span class="keyword">int</span> v = scanner.nextInt();</span><br><span class="line">                <span class="keyword">int</span> w = scanner.nextInt();</span><br><span class="line">                <span class="keyword">assert</span> v &gt;= <span class="number">0</span> &amp;&amp; v &lt; V;</span><br><span class="line">                <span class="keyword">assert</span> w &gt;= <span class="number">0</span> &amp;&amp; w &lt; V;</span><br><span class="line">                graph.addEdge(v, w);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (InputMismatchException e) &#123;</span><br><span class="line">            String token = scanner.next();</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InputMismatchException(<span class="string">&quot;attempts to read an &#x27;int&#x27; value from input stream, but the next token is \&quot;&quot;</span> + token + <span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (NoSuchElementException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException(<span class="string">&quot;attemps to read an &#x27;int&#x27; value from input stream, but there are no more tokens available&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readFile</span><span class="params">(String filename)</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> filename != <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            File file = <span class="keyword">new</span> File(filename);</span><br><span class="line">            <span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">                FileInputStream fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">                scanner = <span class="keyword">new</span> Scanner(<span class="keyword">new</span> BufferedInputStream(fis), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">                scanner.useLocale(Locale.ENGLISH);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(filename + <span class="string">&quot; doesn&#x27;t exist.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (IOException ioe) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Could not open &quot;</span> + filename, ioe);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¹¦å†™mainå‡½æ•°ç„¶åæµ‹è¯•:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨ä¸¤ç§æ–¹å¼è¯»å–testG1.txtæ–‡ä»¶</span></span><br><span class="line">        String filename = <span class="string">&quot;testG1.txt&quot;</span>;</span><br><span class="line">        SparseGraph g1 = <span class="keyword">new</span> SparseGraph(<span class="number">13</span>,<span class="keyword">false</span>);</span><br><span class="line">        ReadGraph readGraph1 = <span class="keyword">new</span> ReadGraph(g1,filename);</span><br><span class="line">        System.out.println(<span class="string">&quot;test G1 in Sparse Graph:&quot;</span>);</span><br><span class="line">        g1.show();</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        DenseGraph g2 = <span class="keyword">new</span> DenseGraph(<span class="number">13</span>,<span class="keyword">false</span>);</span><br><span class="line">        ReadGraph readGraph2 = <span class="keyword">new</span> ReadGraph(g2,filename);</span><br><span class="line">        System.out.println(<span class="string">&quot;test G1 in Dense Graph:&quot;</span>);</span><br><span class="line">        g2.show();</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ä¸¤ç§å›¾çš„å­˜å‚¨æ–¹å¼è¯»å–testG2.txtæ–‡ä»¶</span></span><br><span class="line">        filename = <span class="string">&quot;testG2.txt&quot;</span>;</span><br><span class="line">        SparseGraph g3 = <span class="keyword">new</span> SparseGraph(<span class="number">6</span>, <span class="keyword">false</span>);</span><br><span class="line">        ReadGraph readGraph3 = <span class="keyword">new</span> ReadGraph(g3, filename);</span><br><span class="line">        System.out.println(<span class="string">&quot;test G2 in Sparse Graph:&quot;</span>);</span><br><span class="line">        g3.show();</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        DenseGraph g4 = <span class="keyword">new</span> DenseGraph(<span class="number">6</span>, <span class="keyword">false</span>);</span><br><span class="line">        ReadGraph readGraph4 = <span class="keyword">new</span> ReadGraph(g4, filename);</span><br><span class="line">        System.out.println(<span class="string">&quot;test G2 in Dense Graph:&quot;</span>);</span><br><span class="line">        g4.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯»å–ç»“æœ:<br><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/8.png" alt="æµ‹è¯•ç»“æœ"><br><img src="%E5%9B%BE%E8%AE%BA%E5%9F%BA%E7%A1%80/9.png" alt="æµ‹è¯•ç»“æœ"></p>

  <p><a class="classtest-link" href="/tags/%E5%9B%BE/" rel="tag">å›¾</a>, <a class="classtest-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a> â€” Mar 29, 2019</p>
  


        </div>
        <div class="row mt-2">
  <h3>Search</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/homxuwang" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>