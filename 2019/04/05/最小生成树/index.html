<!DOCTYPE html>
<html lang="zh-Hans">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>æœ€å°ç”Ÿæˆæ ‘</title>
  
  <link rel="canonical" href="http://homxuwang.github.io/2019/04/05/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/">
  
  <meta name="description" content="æœ‰æƒå›¾æœ‰æƒå›¾æ˜¯æŒ‡åœ¨æ— æƒå›¾çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸€æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæ•°å€¼ï¼Œä»£è¡¨ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æœ‰ä¸€å®šçš„æ•°å€¼å…³ç³»ï¼Œæ¯”å¦‚å›¾ç”¨æ¥è¡¨ç¤ºè·¯ç½‘æ—¶ï¼Œæƒå€¼å¯ä»¥è¡¨ç¤ºä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œåˆ°è¾¾å½¼æ­¤æ‰€éœ€è¦çš„æ—¶é—´ç­‰ã€‚ æœ‰æƒå›¾çš„é‚»æ¥çŸ©é˜µè¡¨è¾¾è§ä¸‹å›¾:  æœ‰æƒå›¾çš„é‚»æ¥è¡¨è¡¨è¾¾è§ä¸‹å›¾:s é‚»æ¥è¡¨æ¯ä¸ªèŠ‚ç‚¹åé¢å­˜å‚¨ä¸¤ä¸ªä¿¡æ¯:toè¡¨ç¤ºå’Œå®ƒç›¸é‚»çš„èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œwè¡¨ç¤ºå¯¹åº”">
  
  
  <meta name="author" content="homxuwang">
  
  
  
  <meta property="og:site_name" content="Homxu" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="æœ€å°ç”Ÿæˆæ ‘" />
  
  <meta property="og:description" content="æœ‰æƒå›¾æœ‰æƒå›¾æ˜¯æŒ‡åœ¨æ— æƒå›¾çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸€æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæ•°å€¼ï¼Œä»£è¡¨ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æœ‰ä¸€å®šçš„æ•°å€¼å…³ç³»ï¼Œæ¯”å¦‚å›¾ç”¨æ¥è¡¨ç¤ºè·¯ç½‘æ—¶ï¼Œæƒå€¼å¯ä»¥è¡¨ç¤ºä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œåˆ°è¾¾å½¼æ­¤æ‰€éœ€è¦çš„æ—¶é—´ç­‰ã€‚ æœ‰æƒå›¾çš„é‚»æ¥çŸ©é˜µè¡¨è¾¾è§ä¸‹å›¾:  æœ‰æƒå›¾çš„é‚»æ¥è¡¨è¡¨è¾¾è§ä¸‹å›¾:s é‚»æ¥è¡¨æ¯ä¸ªèŠ‚ç‚¹åé¢å­˜å‚¨ä¸¤ä¸ªä¿¡æ¯:toè¡¨ç¤ºå’Œå®ƒç›¸é‚»çš„èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œwè¡¨ç¤ºå¯¹åº”">
  
  <meta property="og:url" content="http://homxuwang.github.io/2019/04/05/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="æœ€å°ç”Ÿæˆæ ‘">
  
  <meta name="twitter:description" content="æœ‰æƒå›¾æœ‰æƒå›¾æ˜¯æŒ‡åœ¨æ— æƒå›¾çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸€æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæ•°å€¼ï¼Œä»£è¡¨ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æœ‰ä¸€å®šçš„æ•°å€¼å…³ç³»ï¼Œæ¯”å¦‚å›¾ç”¨æ¥è¡¨ç¤ºè·¯ç½‘æ—¶ï¼Œæƒå€¼å¯ä»¥è¡¨ç¤ºä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œåˆ°è¾¾å½¼æ­¤æ‰€éœ€è¦çš„æ—¶é—´ç­‰ã€‚ æœ‰æƒå›¾çš„é‚»æ¥çŸ©é˜µè¡¨è¾¾è§ä¸‹å›¾:  æœ‰æƒå›¾çš„é‚»æ¥è¡¨è¡¨è¾¾è§ä¸‹å›¾:s é‚»æ¥è¡¨æ¯ä¸ªèŠ‚ç‚¹åé¢å­˜å‚¨ä¸¤ä¸ªä¿¡æ¯:toè¡¨ç¤ºå’Œå®ƒç›¸é‚»çš„èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œwè¡¨ç¤ºå¯¹åº”">
  
  
  
  
  <meta name="twitter:url" content="http://homxuwang.github.io/2019/04/05/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

  
  <script src="/js/pic.min.js" defer></script>
  

  
  <script src="/js/search.min.js" defer></script>
  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi July.HX
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>æœ€å°ç”Ÿæˆæ ‘</h2>

  <h1 id="æœ‰æƒå›¾"><a href="#æœ‰æƒå›¾" class="headerlink" title="æœ‰æƒå›¾"></a>æœ‰æƒå›¾</h1><p>æœ‰æƒå›¾æ˜¯æŒ‡åœ¨æ— æƒå›¾çš„åŸºç¡€ä¸Šï¼Œæ¯ä¸€æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæ•°å€¼ï¼Œä»£è¡¨ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æœ‰ä¸€å®šçš„æ•°å€¼å…³ç³»ï¼Œæ¯”å¦‚å›¾ç”¨æ¥è¡¨ç¤ºè·¯ç½‘æ—¶ï¼Œæƒå€¼å¯ä»¥è¡¨ç¤ºä¸¤ç‚¹ä¹‹é—´çš„è·ç¦»ï¼Œåˆ°è¾¾å½¼æ­¤æ‰€éœ€è¦çš„æ—¶é—´ç­‰ã€‚</p>
<p>æœ‰æƒå›¾çš„é‚»æ¥çŸ©é˜µè¡¨è¾¾è§ä¸‹å›¾:</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/1.png" alt="é‚»æ¥çŸ©é˜µ"></p>
<p>æœ‰æƒå›¾çš„é‚»æ¥è¡¨è¡¨è¾¾è§ä¸‹å›¾:<br>s<br><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/2.png" alt="é‚»æ¥è¡¨"></p>
<p>é‚»æ¥è¡¨æ¯ä¸ªèŠ‚ç‚¹åé¢å­˜å‚¨ä¸¤ä¸ªä¿¡æ¯:<code>to</code>è¡¨ç¤ºå’Œå®ƒç›¸é‚»çš„èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œ<code>w</code>è¡¨ç¤ºå¯¹åº”çš„è¾¹çš„æƒå€¼.æ‰€ä»¥å¯ä»¥å°†è¿™ä¸¤ä¸ªä¿¡æ¯å°è£…ä¸º<code>Edge</code>å±æ€§ï¼Œå®ƒåŒ…å«toå’Œwå±æ€§ã€‚</p>
<p>å½“ç„¶è¦æ³¨æ„ä¸€ç‚¹ï¼Œé‚»æ¥çŸ©é˜µä¸­ä¾ç„¶ç”¨äº†ä¼ ç»Ÿçš„äºŒç»´æ•°ç»„æ¥å­˜å‚¨ï¼Œä¸ºäº†ç»Ÿä¸€å›¾çš„æ¥å£ï¼Œä¹Ÿå¯ä»¥å°†a[i][j]ä½ç½®å­˜å‚¨ä¸º<code>Edge</code>æ ¼å¼ã€‚</p>
<p>è¿™é‡Œå°±ç›´æ¥å…ˆå†™javaä»£ç äº†</p>
<p>åˆ›å»º<code>WeightedGraph.java</code>æ¥å£:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">WeightedGraph</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">V</span><span class="params">()</span></span>;  <span class="comment">//è·å–å›¾çš„é¡¶ç‚¹æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">E</span><span class="params">()</span></span>;  <span class="comment">//è·å–å›¾çš„è¾¹æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(Edge&lt;Weight&gt; e)</span></span>; <span class="comment">//åœ¨vå’Œwä¸¤ä¸ªé¡¶ç‚¹é—´æ·»åŠ ä¸€æ¡è¾¹</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">hasEdge</span><span class="params">( <span class="keyword">int</span> v , <span class="keyword">int</span> w)</span></span>;<span class="comment">//æŸ¥çœ‹vå’Œwä¸¤ä¸ªé¡¶ç‚¹é—´æ˜¯å¦æœ‰è¾¹</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>;<span class="comment">//æ‰“å°å›¾</span></span><br><span class="line">    <span class="keyword">public</span> Iterable&lt;Edge&lt;Weight&gt;&gt; adj(<span class="keyword">int</span> v); <span class="comment">//è·å–ä¸vé¡¶ç‚¹è¿æ¥çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†å®ç°æœ‰æƒå›¾ï¼Œå…ˆç¼–å†™ä¸€ä¸ª<code>Edge.java</code>ç±»:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¾¹</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Edge</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Edge</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> a,b; <span class="comment">//è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> Weight weight; <span class="comment">//è¾¹çš„æƒå€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Edge</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b , Weight weight)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = a ;</span><br><span class="line">        <span class="keyword">this</span>.b = b ;</span><br><span class="line">        <span class="keyword">this</span>.weight = weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Edge</span><span class="params">(Edge&lt;Weight&gt; e)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.a = e.a;</span><br><span class="line">        <span class="keyword">this</span>.b = e.b;</span><br><span class="line">        <span class="keyword">this</span>.weight = e.weight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">v</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> a;&#125; <span class="comment">//è¿”å›ç¬¬ä¸€ä¸ªé¡¶ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">w</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> b;&#125; <span class="comment">//è¿”å›ç¬¬äºŒä¸ªé¡¶ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Weight <span class="title">wt</span><span class="params">()</span> </span>&#123;<span class="keyword">return</span> weight;&#125; <span class="comment">// è¿”å›æƒå€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»™å®šä¸€ä¸ªé¡¶ç‚¹ï¼Œè¿”å›å¦ä¸€ä¸ªé¡¶ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">other</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( x == a || x == b)&#123;</span><br><span class="line">            <span class="keyword">return</span> x == a ? b : a;</span><br><span class="line">        &#125;<span class="keyword">else</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;x is not correct&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¾“å‡ºè¾¹çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span> + a + <span class="string">&quot;-&quot;</span> + b + <span class="string">&quot;: &quot;</span> + weight;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Edge that)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(weight.compareTo(that.wt()) &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(weight.compareTo(that.wt()) &gt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>DenseGraph.java</code>çš„åŸºç¡€ä¸Šä¿®æ”¹ï¼Œåˆ›å»º<code>DenseGraph.java</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DenseWeightedGraph</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; <span class="keyword">implements</span> <span class="title">WeightedGraph</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n; <span class="comment">//èŠ‚ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m; <span class="comment">//è¾¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> directed; <span class="comment">// æ˜¯å¦ä¸ºæœ‰å‘å›¾</span></span><br><span class="line">    <span class="keyword">private</span> Edge&lt;Weight&gt;[][] g; <span class="comment">//å›¾çš„å…·ä½“æ•°æ®ï¼Œç”¨äºŒç»´æ•°ç»„è¡¨è¾¾</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">DenseWeightedGraph</span><span class="params">( <span class="keyword">int</span> n , <span class="keyword">boolean</span> directed)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of n should be &gt;= 0.&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        <span class="keyword">this</span>.m = <span class="number">0</span> ;<span class="comment">//åˆå§‹åŒ–æ—¶æ²¡æœ‰ä»»ä½•è¾¹</span></span><br><span class="line">        <span class="keyword">this</span>.directed = directed;</span><br><span class="line">        <span class="comment">// gåˆå§‹åŒ–ä¸ºn*nçš„å¸ƒå°”çŸ©é˜µ, æ¯ä¸€ä¸ªg[i][j]å‡ä¸ºnull, è¡¨ç¤ºæ²¡æœ‰ä»»å’Œè¾¹</span></span><br><span class="line">        <span class="comment">// falseä¸ºbooleanå‹å˜é‡çš„é»˜è®¤å€¼</span></span><br><span class="line">        g = <span class="keyword">new</span> Edge[n][n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; n ;j ++)</span><br><span class="line">                g[i][j] = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">V</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›è¾¹æ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">E</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘å›¾ä¸­æ·»åŠ ä¸€æ¡è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(Edge e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(e.v() &gt;= <span class="number">0</span> &amp;&amp; e.v() &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;you should type v &gt;= 0 &amp;&amp; v &lt; n&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(e.w() &gt;= <span class="number">0</span> &amp;&amp; e.w() &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;you should type w &gt;= 0 &amp;&amp; w &lt; n&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(hasEdge(e.v(),e.w()))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        g[e.v()][e.w()] = <span class="keyword">new</span> Edge(e);</span><br><span class="line">        <span class="keyword">if</span>(e.v() != e.w() &amp;&amp; !directed)</span><br><span class="line">            g[e.w()][e.v()] = <span class="keyword">new</span> Edge(e.w(),e.v(),e.wt());</span><br><span class="line"></span><br><span class="line">        m ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­å›¾ä¸­æ˜¯å¦æœ‰våˆ°wçš„è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> g[v][w] != <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰“å°æ˜¾ç¤ºå›¾çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span>  i = <span class="number">0</span> ; i &lt; n ; i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>( <span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; n ; j ++)</span><br><span class="line">               <span class="keyword">if</span>( g[i][j] != <span class="keyword">null</span>)</span><br><span class="line">                   System.out.println(g[i][j].wt()+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;NULL\t&quot;</span>);</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›å›¾ä¸­vé¡¶ç‚¹çš„æ‰€æœ‰é‚»è¾¹</span></span><br><span class="line">    <span class="comment">//ç”±äºjavaä½¿ç”¨å¼•ç”¨æœºåˆ¶ï¼Œè¿”å›ä¸€ä¸ªVectorä¸ä¼šå¸¦æ¥é¢å¤–å¼€é”€</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Iterable&lt;Edge&lt;Weight&gt;&gt; adj(<span class="keyword">int</span> v) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        Vector&lt;Edge&lt;Weight&gt;&gt; adjV = <span class="keyword">new</span> Vector&lt;Edge&lt;Weight&gt;&gt;();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i++)</span><br><span class="line">            <span class="keyword">if</span>(g[v][i] != <span class="keyword">null</span>)</span><br><span class="line">                adjV.add(g[v][i]);</span><br><span class="line">        <span class="keyword">return</span> adjV;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ä¿®æ”¹<code>SparseGraph.java</code>åå¾—åˆ°<code>SparseWeightedGraph.java</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SparseWeightedGraph</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; <span class="keyword">implements</span> <span class="title">WeightedGraph</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> n; <span class="comment">//èŠ‚ç‚¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> m; <span class="comment">//è¾¹æ•°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span> directed; <span class="comment">//æ˜¯å¦ä¸ºæœ‰å‘å›¾</span></span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Edge&lt;Weight&gt;&gt;[] g; <span class="comment">//å›¾çš„å…·ä½“æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">SparseWeightedGraph</span><span class="params">(<span class="keyword">int</span> n , <span class="keyword">boolean</span> directed)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of n should be &gt;= 0.&quot;</span>);</span><br><span class="line">        <span class="keyword">this</span>.n = n;</span><br><span class="line">        <span class="keyword">this</span>.m = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.directed = directed;</span><br><span class="line">        <span class="comment">//gåˆå§‹åŒ–ä¸ºnä¸ªç©ºçš„vector,è¡¨ç¤ºæ¯ä¸€ä¸ªg[i]éƒ½ä¸ºç©ºï¼Œå³æ²¡æœ‰ä»»ä½•è¾¹</span></span><br><span class="line">        g = (Vector&lt;Edge&lt;Weight&gt;&gt;[]) <span class="keyword">new</span> Vector[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++)</span><br><span class="line">            g[i] = <span class="keyword">new</span> Vector&lt;Edge&lt;Weight&gt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">V</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›è¾¹æ•°</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">E</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å‘å›¾ä¸­æ·»åŠ ä¸€æ¡è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">addEdge</span><span class="params">(Edge e)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(e.v() &gt;= <span class="number">0</span> &amp;&amp; e.v() &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(e.w() &gt;= <span class="number">0</span> &amp;&amp; e.w() &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        g[e.v()].add(<span class="keyword">new</span> Edge&lt;&gt;(e));</span><br><span class="line">        <span class="keyword">if</span>(e.v() != e.w() &amp;&amp; !directed) <span class="comment">//å¦‚æœä¸æ˜¯è‡ªç¯è¾¹ï¼Œå¹¶ä¸”å®ƒæ˜¯æ— å‘å›¾ï¼Œåˆ™åˆ›å»ºwåˆ°vçš„è¾¹</span></span><br><span class="line">            g[e.w()].add(<span class="keyword">new</span> Edge(e.w(),e.v(),e.wt()));</span><br><span class="line"></span><br><span class="line">        m ++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//éªŒè¯å›¾ä¸­æ˜¯å¦æœ‰våˆ°wçš„è¾¹</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasEdge</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> w)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; g[v].size() ; i++)</span><br><span class="line">            <span class="keyword">if</span>( g[v].elementAt(i).other(v) == w)</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ˜¾ç¤ºå›¾çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n ; i ++)&#123;</span><br><span class="line">            System.out.printf(<span class="string">&quot;vertex %d :\t&quot;</span>,i);</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span> ; j &lt; g[i].size() ; j++)&#123;</span><br><span class="line">                Edge e = g[i].elementAt(j);</span><br><span class="line">                System.out.print(<span class="string">&quot;( to:&quot;</span> + e.other(i) + <span class="string">&quot;,wt:&quot;</span> + e.wt() + <span class="string">&quot;)\t&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å›¾ä¸­ä¸€ä¸ªé¡¶ç‚¹çš„æ‰€æœ‰é‚»è¾¹</span></span><br><span class="line">    <span class="comment">// ç”±äºjavaä½¿ç”¨å¼•ç”¨æœºåˆ¶ï¼Œè¿”å›ä¸€ä¸ªVectorä¸ä¼šå¸¦æ¥é¢å¤–å¼€é”€,</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Iterable&lt;Edge&lt;Weight&gt;&gt; adj(<span class="keyword">int</span> v) &#123;</span><br><span class="line">        <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; n))</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> g[v];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¿®æ”¹<code>ReadGraph.java</code>åå¾—åˆ°<code>ReadWeightedGraph</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReadWeightedGraph</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Scanner scanner;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ReadWeightedGraph</span><span class="params">(WeightedGraph&lt;Double&gt; graph , String filename)</span></span>&#123;</span><br><span class="line">        readFile(filename);</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">int</span> V = scanner.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(V &lt; <span class="number">0</span> )</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;number of vertices in a Graph must be nonnegative&quot;</span>);</span><br><span class="line">            <span class="keyword">assert</span> V == graph.V();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> E = scanner.nextInt();</span><br><span class="line">            <span class="keyword">if</span>(E &lt; <span class="number">0</span> )</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;number of edges in a Graph must be nonnegative&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; E ; i ++)&#123;</span><br><span class="line">                <span class="keyword">int</span> v = scanner.nextInt();</span><br><span class="line">                <span class="keyword">int</span> w = scanner.nextInt();</span><br><span class="line">                Double weight = scanner.nextDouble();  <span class="comment">//è¯»å–æƒå€¼</span></span><br><span class="line">                <span class="keyword">if</span>(!(v &gt;= <span class="number">0</span> &amp;&amp; v &lt; V))</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of v is Illegal!you should type the value of v between 0 and n.(v &gt;=0 &amp;&amp; v &lt; n).&quot;</span>);</span><br><span class="line">                <span class="keyword">if</span>(!(w &gt;= <span class="number">0</span> &amp;&amp; w &lt; V))</span><br><span class="line">                    <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;the value of w is Illegal!you should type the value of w between 0 and n.(w &gt;=0 &amp;&amp; w &lt; n).&quot;</span>);</span><br><span class="line"></span><br><span class="line">                graph.addEdge(<span class="keyword">new</span> Edge&lt;Double&gt;(v,w,weight) );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (InputMismatchException e)&#123;</span><br><span class="line">            String token = scanner.next();</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> InputMismatchException(<span class="string">&quot;attempts to read an &#x27;int&#x27; value from input stream,but the next token is \&quot;&quot;</span>+token +<span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span>(NoSuchElementException e)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NoSuchElementException(<span class="string">&quot;attemps to read an &#x27;int&#x27; value from input stream, but there are no more tokens available&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">readFile</span><span class="params">(String filename)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(filename == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span>  <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;filename should not be null!&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            File file = <span class="keyword">new</span> File(filename);</span><br><span class="line">            <span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">                FileInputStream fis = <span class="keyword">new</span> FileInputStream(file);</span><br><span class="line">                scanner = <span class="keyword">new</span> Scanner(<span class="keyword">new</span> BufferedInputStream(fis), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">                scanner.useLocale(Locale.ENGLISH);</span><br><span class="line">            &#125;<span class="keyword">else</span></span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(filename + <span class="string">&quot;doesn&#x27;t exists.&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException ex)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Could not open &quot;</span> + filename,ex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•æ–‡ä»¶<code>testG1.txt</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">8 16</span><br><span class="line">4 5 .35</span><br><span class="line">4 7 .37</span><br><span class="line">5 7 .28</span><br><span class="line">0 7 .16</span><br><span class="line">1 5 .32</span><br><span class="line">0 4 .38</span><br><span class="line">2 3 .17</span><br><span class="line">1 7 .19</span><br><span class="line">0 2 .26</span><br><span class="line">1 2 .36</span><br><span class="line">1 3 .29</span><br><span class="line">2 7 .34</span><br><span class="line">6 2 .40</span><br><span class="line">3 6 .52</span><br><span class="line">6 0 .58</span><br><span class="line">6 4 .93</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>Main.java</code>ä¸­è¿›è¡Œæµ‹è¯•:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯•é€šè¿‡æ–‡ä»¶è¯»å–å›¾çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ä¸¤ç§å›¾çš„å­˜å‚¨æ–¹å¼è¯»å–testG1.txtæ–‡ä»¶</span></span><br><span class="line">        String filename = <span class="string">&quot;testG1.txt&quot;</span>;</span><br><span class="line">        SparseWeightedGraph&lt;Double&gt; g1 = <span class="keyword">new</span> SparseWeightedGraph&lt;Double&gt;(<span class="number">8</span>, <span class="keyword">false</span>);</span><br><span class="line">        ReadWeightedGraph readGraph1 = <span class="keyword">new</span> ReadWeightedGraph(g1, filename);</span><br><span class="line">        System.out.println(<span class="string">&quot;test G1 in Sparse Weighted Graph:&quot;</span>);</span><br><span class="line">        g1.show();</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        DenseWeightedGraph&lt;Double&gt; g2 = <span class="keyword">new</span> DenseWeightedGraph&lt;Double&gt;(<span class="number">8</span>, <span class="keyword">false</span>);</span><br><span class="line">        ReadWeightedGraph readGraph2 = <span class="keyword">new</span> ReadWeightedGraph(g2 , filename );</span><br><span class="line">        System.out.println(<span class="string">&quot;test G1 in Dense Graph:&quot;</span>);</span><br><span class="line">        g2.show();</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/3.png" alt="æµ‹è¯•ç»“æœ"></p>
<h1 id="æœ€å°ç”Ÿæˆæ ‘é—®é¢˜"><a href="#æœ€å°ç”Ÿæˆæ ‘é—®é¢˜" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘é—®é¢˜"></a>æœ€å°ç”Ÿæˆæ ‘é—®é¢˜</h1><p>ç®—æ³•ï¼ˆç¬¬å››ç‰ˆï¼‰ä¸­çš„å®šä¹‰ï¼š<br>æœ€å°ç”Ÿæˆæ ‘ã€‚ç»™å®šä¸€ä¸ªåŠ æƒæ— å‘å›¾ï¼Œæ‰¾åˆ°å®ƒçš„ä¸€æ£µæœ€å°ç”Ÿæˆæ ‘ï¼ˆMinimum Span Treeï¼‰ã€‚</p>
<p>å¦‚æœä¸€ä¸ªå›¾æœ‰vä¸ªèŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±åº”è¯¥æœ‰v-1æ¡è¾¹è¿æ¥è¿™Vä¸ªèŠ‚ç‚¹ï¼Œè¿™å°±æ˜¯è¿™ä¸ªå›¾çš„ç”Ÿæˆæ ‘ã€‚ä¸ä»…å¦‚æ­¤ï¼Œè¿™v-1æ¡è¾¹è¿æ¥äº†æ‰€æœ‰çš„vä¸ªèŠ‚ç‚¹ï¼Œè¿™v-1æ¡è¾¹çš„æƒå€¼ç›¸åŠ ä¹Ÿæ˜¯æœ€å°çš„ï¼Œå¦‚ä½•æ‰¾åˆ°è¿™ä¸ªç”Ÿæˆæ ‘ï¼Œå°±æ˜¯æœ€å°ç”Ÿæˆæ ‘é—®é¢˜ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/4.png" alt="æœ€å°ç”Ÿæˆæ ‘"></p>
<h2 id="ä¸€äº›çº¦å®š"><a href="#ä¸€äº›çº¦å®š" class="headerlink" title="ä¸€äº›çº¦å®š"></a>ä¸€äº›çº¦å®š</h2><p>è¿™é‡Œåœ¨è®¡ç®—æœ€å°ç”Ÿæˆæ ‘çš„è¿‡ç¨‹ä¸­ä¼šå‡ºç°å„ç§ç‰¹æ®Šæƒ…å†µï¼Œæ‰€ä»¥ä¸ºäº†è¡Œæ–‡æµç•…ï¼Œè¿›è¡Œçº¦å®šï¼š</p>
<ul>
<li>åªè€ƒè™‘è¿é€šå›¾</li>
<li>é’ˆå¯¹å¸¦æƒæ— å‘å›¾</li>
<li>æ‰€æœ‰è¾¹çš„æƒé‡éƒ½å„ä¸ç›¸åŒ</li>
</ul>
<p>æ‰€ä»¥åœ¨è¿›è¡Œæœ€å°ç”Ÿæˆæ ‘ç›¸å…³ç®—æ³•çš„è¿‡ç¨‹ä¸­è¦æ‰¾V-1æ¡è¾¹ï¼Œè¿æ¥Vä¸ªé¡¶ç‚¹ä½¿å¾—å…¶æ€»æƒå€¼æœ€å°ã€‚</p>
<h2 id="åˆ‡åˆ†å®šç†-Cut-Property"><a href="#åˆ‡åˆ†å®šç†-Cut-Property" class="headerlink" title="åˆ‡åˆ†å®šç† - Cut Property"></a>åˆ‡åˆ†å®šç† - Cut Property</h2><p>æŠŠå›¾ä¸­çš„ç»“ç‚¹åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œæˆä¸ºä¸€ä¸ª<code>åˆ‡åˆ†(Cut)</code>.</p>
<p>å¦‚ä¸‹å›¾å°±æ˜¯ä¸€ä¸ªåˆ‡åˆ†:</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/5.png" alt="åˆ‡åˆ†"></p>
<p>å¦‚æœä¸€ä¸ªè¾¹çš„ä¸¤ä¸ªç«¯ç‚¹ï¼Œå±äº<code>åˆ‡åˆ†(Cut)</code>ä¸åŒçš„ä¸¤è¾¹ï¼Œè¿™ä¸ªè¾¹ç§°ä¸º<code>æ¨ªåˆ‡è¾¹(Crossing Edge)</code>.</p>
<p>å¦‚ä¸‹å›¾çš„è“è‰²çº¿æ¡å°±æ˜¯æ¨ªåˆ‡è¾¹:</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/6.png" alt="æ¨ªåˆ‡è¾¹"></p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/7.png" alt="æ¨ªåˆ‡è¾¹"></p>
<p><code>åˆ‡åˆ†å®šç†</code>çš„å®šä¹‰ï¼š<br>åœ¨ä¸€å‰¯åŠ æƒå›¾ä¸­ï¼Œç»™å®š<code>ä»»æ„</code>åˆ‡åˆ†ï¼Œæ¨ªåˆ‡è¾¹ä¸­æƒå€¼æœ€å°çš„è¾¹å¿…ç„¶å±äºå›¾çš„æœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<p>ä¾‹å¦‚ä¸Šå›¾ä¸­çš„æƒé‡ä¸º0.4çš„è¾¹è‚¯å®šæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹:<br><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/8.png" alt="æ¨ªåˆ‡è¾¹"></p>
<p>ç®—æ³•(ç¬¬å››ç‰ˆ)ä¸­çš„è¯æ˜:</p>
<blockquote>
<p>ä»Šeä¸ºæƒé‡æœ€å°çš„æ¨ªåˆ‡è¾¹ï¼ŒTä¸ºå›¾çš„æœ€å°ç”Ÿæˆæ ‘ã€‚æˆ‘ä»¬é‡‡ç”¨åè¯æ³•:å‡è®¾Tä¸åŒ…å«eã€‚é‚£ä¹ˆå¦‚æœå°†eåŠ å…¥Tï¼Œå¾—åˆ°çš„å›¾å¿…ç„¶å«æœ‰ä¸€æ¡ç»è¿‡eçš„ç¯ï¼Œä¸”è¿™ä¸ªç¯è‡³å°‘å«æœ‰å¦ä¸€æ¡æ¨ªåˆ‡è¾¹â€”â€”è®¾ä¸ºfï¼Œfçš„æƒé‡å¿…ç„¶å¤§äºe(å› ä¸ºeçš„æƒé‡æ˜¯æœ€å°çš„ä¸”å›¾ä¸­æ‰€æœ‰è¾¹çš„æƒé‡å‡ä¸åŒ)ã€‚é‚£ä¹ˆæˆ‘ä»¬åˆ æ‰fè€Œä¿ç•™eå°±å¯ä»¥å¾—åˆ°ä¸€æ£µæƒé‡æ›´å°çš„ç”Ÿæˆæ ‘ã€‚è¿™å’Œæˆ‘ä»¬çš„å‡è®¾TçŸ›ç›¾ã€‚</p>
</blockquote>
<blockquote>
<p>åœ¨å‡è®¾æ‰€æœ‰çš„è¾¹çš„æƒé‡å‡ä¸ç›¸åŒçš„å‰æä¸‹ï¼Œæ¯å¹…è¿é€šå›¾éƒ½åªæœ‰ä¸€æ£µå”¯ä¸€çš„æœ€å°ç”Ÿæˆæ ‘ï¼Œåˆ‡åˆ†å®šç†ä¹Ÿè¡¨æ˜äº†å¯¹äºæ¯ä¸€ç§åˆ‡åˆ†ï¼Œæƒé‡æœ€å°çš„æ¨ªåˆ‡è¾¹å¿…ç„¶å±äºæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
</blockquote>
<blockquote>
<p>åˆ‡åˆ†å®šç†æ˜¯è§£å†³æœ€å°ç”Ÿæˆæ ‘é—®é¢˜çš„æ‰€æœ‰ç®—æ³•çš„åŸºç¡€ã€‚æ›´ç¡®åˆ‡çš„è¯´ï¼Œè¿™äº›ç®—æ³•éƒ½æ˜¯ä¸€ç§è´ªå¿ƒç®—æ³•çš„ç‰¹æ®Šæƒ…å†µ:ä½¿ç”¨åˆ‡åˆ†å®šç†æ‰¾åˆ°æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œä¸æ–­é‡å¤ç›´åˆ°æ‰¾åˆ°æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹ã€‚è¿™äº›ç®—æ³•ç›¸äº’ä¹‹é—´çš„ä¸åŒä¹‹å¤„åœ¨äºä¿å­˜åˆ‡åˆ†å’Œåˆ¤å®šæƒé‡æœ€å°çš„æ¨ªåˆ‡è¾¹çš„æ–¹å¼ã€‚</p>
</blockquote>
<h2 id="Lazy-Primç®—æ³•"><a href="#Lazy-Primç®—æ³•" class="headerlink" title="Lazy Primç®—æ³•"></a>Lazy Primç®—æ³•</h2><p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/9.png" alt="Lazy-Prim"></p>
<p>é¦–å…ˆå°†ä¸€ä¸ªèµ·å§‹èŠ‚ç‚¹ä½œä¸ºåˆ‡åˆ†çš„ä¸€éƒ¨åˆ†ï¼Œè¿™é‡Œä»0èŠ‚ç‚¹å¼€å§‹ã€‚å°†0èŠ‚ç‚¹ä½œä¸ºåˆ‡åˆ†çš„ä¸€éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„èŠ‚ç‚¹ä½œä¸ºåˆ‡åˆ†çš„å¦ä¸€éƒ¨åˆ†ã€‚æ¯ä¸€æ¬¡æ‰¾åˆ°æ¨ªåˆ‡è¾¹ä¸­æƒå€¼æœ€å°çš„è¾¹ã€‚è¿™é‡Œå¯ä»¥ä½¿ç”¨æœ€å°å †ï¼Œå°†æ¨ªåˆ‡è¾¹æ”¾å…¥æœ€å°å †ä¸­ï¼Œä½œä¸ºæœ€å°ç”Ÿæˆæ ‘æ‰€åŒ…å«çš„è¾¹çš„å€™é€‰ã€‚è¿™äº›è¾¹è¿›å…¥å †åï¼Œä¸‹ä¸€æ­¥åªéœ€æ‹¿å‡ºæœ€å°å †ä¸­çš„æœ€çŸ­è¾¹å°±å¯ä»¥äº†ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/10.png" alt="ç¬¬ä¸€æ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>è¿™ä¸€æ­¥æ‰¾å‡ºçš„æ˜¯<code>0-7:0.16</code>æƒå€¼ä¸º0.16çš„è¾¹ï¼Œå®ƒä¸€å®šå±äºæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/11.png" alt="ç¬¬ä¸€æ­¥çš„æœ€å°è¾¹"></p>
<p>ç¬¬äºŒæ­¥ï¼Œç¡®å®šäº†<code>0-7</code>è¿™æ¡è¾¹ä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œè€Œç»“ç‚¹7æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ­¤æ—¶å°±å¯ä»¥å°†ç»“ç‚¹7åŠ å…¥åˆ°çº¢è‰²èŠ‚ç‚¹éƒ¨åˆ†ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªæ–°çš„åˆ‡åˆ†ã€‚è¿™ä¸ªæ–°çš„åˆ‡åˆ†å°±å’Œå¦ä¸€éƒ¨åˆ†åˆ‡åˆ†å½¢æˆäº†æ–°çš„æ¨ªåˆ‡è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/12.png" alt="ç¬¬äºŒæ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>ç„¶åå°†è¿™äº›æ–°çš„æ¨ªåˆ‡è¾¹æ¨å…¥æœ€å°å †ï¼Œç„¶ååœ¨æœ€å°å †ä¸­é€‰å‡ºæƒå€¼æœ€å°çš„è¾¹<code>1-7:0.19</code>ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/13.png" alt="ç¬¬äºŒæ­¥çš„æœ€å°è¾¹"></p>
<p>ç¬¬ä¸‰æ­¥ï¼Œç¡®å®šäº†<code>1-7</code>ä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œè€ŒèŠ‚ç‚¹1æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ­¤æ—¶å°†ç»“ç‚¹1åŠ å…¥åˆ°çº¢è‰²ç»“ç‚¹éƒ¨åˆ†ï¼Œè¿™æ ·åˆå½¢æˆäº†ä¸€ä¸ªæ–°çš„åˆ‡åˆ†ã€‚ä¹Ÿç›¸åº”çš„å’Œå¦ä¸€éƒ¨åˆ†åˆ‡åˆ†å½¢æˆäº†æ–°çš„æ¨ªåˆ‡è¾¹ã€‚å°†è¿™äº›æ–°çš„æ¨ªåˆ‡è¾¹åŠ å…¥åˆ°æœ€å°å †ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/14.png" alt="ç¬¬ä¸‰æ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>æ¥ç€çœ‹åœ¨å€™é€‰çš„æ¨ªåˆ‡è¾¹ä¸­ï¼Œæœ€çŸ­çš„è¾¹ä¸º<code>0-2:0.26</code>çš„è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/15.png" alt="ç¬¬ä¸‰æ­¥çš„æœ€å°è¾¹"></p>
<p>ç¬¬å››æ­¥ï¼Œç¡®å®šäº†<code>0-2</code>ä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œè€Œç»“ç‚¹2æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ‰€ä»¥å°†ç»“ç‚¹2åŠ å…¥çº¢è‰²ç»“ç‚¹éƒ¨åˆ†ï¼Œè¿™æ ·å°±åˆå½¢æˆä¸€ä¸ªæ–°çš„åˆ‡åˆ†ã€‚åˆæœ‰æ–°çš„è¾¹æˆä¸ºäº†æ¨ªåˆ‡è¾¹ã€‚å°†ä»–ä»¬åŠ å…¥åˆ°æœ€å°å †ä¸­ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/16.png" alt="ç¬¬å››æ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>æ­¤æ—¶éœ€è¦æ³¨æ„ï¼Œå°†ç»“ç‚¹2åŠ å…¥åˆ°çº¢è‰²éƒ¨åˆ†åï¼Œæœ€å°å †ä¸­è“è‰²çš„éƒ¨åˆ†ä¸­ï¼Œè¾¹<code>2-7:0.34</code>å’Œè¾¹<code>1-2:0.36</code>ï¼Œå®é™…ä¸Šå·²ç»ä¸æ˜¯æ¨ªåˆ‡è¾¹äº†ï¼Œæ‰€ä»¥è¿™ä¸¤æ¡è¾¹ä¸åº”è¯¥æˆä¸ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹çš„å€™é€‰äº†ã€‚æ‰€ä»¥è¿™é‡Œä½“ç°å‡º<code>Lazy Prim</code>ç®—æ³•çš„â€æ‡’æƒ°â€æ€§ï¼Œå½“å‰è¿™ä¸¤æ¡è¾¹è™½ç„¶ä¸å¯èƒ½æˆä¸ºæœ€å°ç”Ÿæˆæ ‘çš„å€™é€‰è¾¹ï¼Œä½†æ˜¯è¿™é‡Œä¸éœ€è¦ç€æ€¥å°†å…¶å‰”é™¤ï¼Œå…ˆå°†å…¶ä¿ç•™åœ¨æœ€å°å †ä¸­ï¼Œå½“æ‹¿å‡ºè¿™ä¸¤æ¡è¾¹æ—¶ï¼Œå‘ç°è¿™ä¸¤æ¡è¾¹ä¸æ˜¯æ¨ªåˆ‡è¾¹æ—¶ï¼Œå†å°†è¿™ä¸¤æ¡è¾¹å‰”é™¤ã€‚</p>
<p>æ¥ç€åœ¨æœ€å°å †ä¸­å¯»æ‰¾æœ€å°çš„è¾¹ï¼Œæœ€çŸ­è¾¹ä¸º<code>2-3:0.17</code>çš„è¾¹.</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/17.png" alt="ç¬¬å››æ­¥çš„æœ€å°è¾¹"></p>
<p>ç¬¬äº”æ­¥ï¼Œç¡®å®šäº†<code>2-3</code>ä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œè€Œç»“ç‚¹3æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ‰€ä»¥å°†ç»“ç‚¹3åŠ å…¥åˆ°çº¢è‰²ç»“ç‚¹éƒ¨åˆ†ï¼Œå½¢æˆæ–°çš„åˆ‡åˆ†åï¼Œå°†æ–°çš„æ¨ªåˆ‡è¾¹åŠ å…¥åˆ°æœ€å°å †ä¸­ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/18.png" alt="ç¬¬äº”æ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>æ¥ç€æœ€å°å †ä¸­çš„æœ€å°è¾¹åº”è¯¥æ˜¯<code>5-7:0.28</code>çš„è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/19.png" alt="ç¬¬äº”æ­¥çš„æœ€å°è¾¹"></p>
<p>ç¬¬å…­æ­¥ï¼Œç¡®å®šäº†<code>5-7</code>ä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œè€Œç»“ç‚¹5æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ‰€ä»¥å°†ç»“ç‚¹5åŠ å…¥åˆ°çº¢è‰²éƒ¨åˆ†ï¼Œå½¢æˆæ–°çš„åˆ‡åˆ†å¹¶å°†æ–°çš„æ¨ªåˆ‡è¾¹åŠ å…¥åˆ°æœ€å°å †ä¸­ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/20.png" alt="ç¬¬å…­æ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>æ¥ç€çœ‹åœ¨æœ€å°å †ä¸­ï¼Œæœ€å°çš„è¾¹ä¸º<code>1-3:0.29</code>çš„è¾¹ï¼Œå½“å°†å…¶æ‹¿å‡ºåå‘ç°ï¼Œç»“ç‚¹1å’Œç»“ç‚¹3éƒ½æ˜¯çº¢è‰²çš„ç»“ç‚¹ï¼Œå³è¿™æ¡è¾¹ä¸æ˜¯ä¸€æ¡æ¨ªåˆ‡è¾¹ï¼ˆåªæœ‰æ¨ªåˆ‡è¾¹ä¸­çš„æœ€å°è¾¹æ‰æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ï¼‰ï¼Œæ‰€ä»¥å°†å…¶æ‹¿å‡ºåå‰”é™¤ã€‚æ¥ç€çœ‹åœ¨æœ€å°å †ä¸­çš„æœ€çŸ­è¾¹ä¸º<code>1-5:0.32</code>çš„è¾¹ï¼Œæ‹¿å‡ºåå‘ç°ç»“ç‚¹1å’Œç»“ç‚¹5éƒ½æ˜¯çº¢è‰²çš„ç»“ç‚¹ï¼Œæ‰€ä»¥ä¹Ÿè¦å°†å…¶å‰”é™¤ã€‚æ¥ç€çœ‹å‰©ä¸‹çš„æœ€å°å †ä¸­çš„æœ€çŸ­è¾¹ä¸º<code>2-7:0.34</code>ï¼Œä¹Ÿä¸æ»¡è¶³æ¨ªåˆ‡è¾¹çš„æ€§è´¨ï¼Œå‰”é™¤ã€‚<br>æ¥ç€çœ‹å‰©ä¸‹çš„æœ€å°å †ä¸­çš„æœ€çŸ­è¾¹ä¸º<code>4-5:0.35</code>ï¼Œæ»¡è¶³æ¨ªåˆ‡è¾¹çš„æ€§è´¨ï¼Œæ‰€ä»¥å°†è¿™æ¡è¾¹ä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/21.png" alt="ç¬¬å…­æ­¥çš„æœ€å°è¾¹"></p>
<p>ç¬¬ä¸ƒæ­¥ï¼Œç¡®å®šäº†<code>5-4</code>ä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œç”±äºç»“ç‚¹4æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œæ‰€ä»¥å°†ç»“ç‚¹4åŠ å…¥åˆ°çº¢è‰²éƒ¨åˆ†ï¼Œè¡Œæˆæ–°çš„åˆ‡åˆ†å¹¶å°†æ–°çš„æ¨ªåˆ‡è¾¹<code>4-6:0.93</code>åŠ å…¥åˆ°æœ€å°å †ä¸­ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/22.png" alt="ç¬¬ä¸ƒæ­¥çš„æ¨ªåˆ‡è¾¹"></p>
<p>ç„¶ååœ¨æœ€å°å †ä¸­æ‰¾æœ€çŸ­çš„è¾¹ï¼Œä¸º<code>1-2:0.36</code>è¿™æ¡è¾¹ï¼Œä½†æ˜¯å®ƒä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œå°†å…¶å‰”é™¤ã€‚æ¥ç€æœ€å°å †ä¸­æœ€çŸ­çš„è¾¹ä¸º<code>4-7:0.37</code>ï¼Œå®ƒä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œå°†å…¶å‰”é™¤ã€‚ç»§ç»­æ‰¾æœ€å°å †ä¸­æœ€çŸ­è¾¹ä¸º<code>0-4:0.38</code>ï¼Œä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œå°†å…¶å‰”é™¤ã€‚<br>ç»§ç»­æ‰¾æœ€å°å †ä¸­çš„æœ€çŸ­è¾¹ä¸º<code>2-6:0.40</code>ï¼Œå®ƒæ˜¯æ¨ªåˆ‡è¾¹ï¼Œå°†å…¶ä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/23.png" alt="ç¬¬ä¸ƒæ­¥çš„æœ€å°è¾¹"></p>
<p>ç”±äºç»“ç‚¹6æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œå°†å…¶åŠ å…¥åˆ°çº¢è‰²éƒ¨åˆ†ã€‚è¿™æ—¶æ‰€æœ‰èŠ‚ç‚¹éƒ½åœ¨çº¢è‰²éƒ¨åˆ†ï¼Œç¨‹åºè‡³æ­¤å°±å¯ä»¥ç»“æŸã€‚</p>
<p>å¦‚æœä»¥æœ€å°å †ä¸­çš„è¾¹ä¸ºç©ºä½œä¸ºåˆ¤æ–­ä¾æ®çš„è¯ï¼Œé‚£ä¹ˆä¾ç„¶å¯ä»¥æ‹¿å‡ºæœ€å°å †ä¸­çš„æœ€å°è¾¹è¿›è¡Œåˆ¤æ–­ï¼Œæ­¤æ—¶æ‰€æœ‰çš„è¾¹éƒ½ä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œå°†å‰©ä¸‹çš„è¾¹åˆ¤æ–­å®Œåï¼Œç¨‹åºç»“æŸã€‚</p>
<p>æ­¤æ—¶å°±ç”¨<code>Lazy Prim</code>ç®—æ³•è·å¾—äº†æœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<h2 id="Lazy-Primç®—æ³•ä»£ç "><a href="#Lazy-Primç®—æ³•ä»£ç " class="headerlink" title="Lazy Primç®—æ³•ä»£ç "></a>Lazy Primç®—æ³•ä»£ç </h2><p>è§é™„å½•1</p>
<h2 id="Primç®—æ³•çš„ä¼˜åŒ–"><a href="#Primç®—æ³•çš„ä¼˜åŒ–" class="headerlink" title="Primç®—æ³•çš„ä¼˜åŒ–"></a>Primç®—æ³•çš„ä¼˜åŒ–</h2><p><code>pq.extractMin()</code>æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(logE),å› ä¸ºpqä¸­æœ€å¤šæ‰¿è½½Eæ¡è¾¹ã€‚<br><code>visit()</code>æ“ä½œæ—¶ï¼Œéå†èŠ‚ç‚¹çš„æ‰€æœ‰ä¸´è¾¹ï¼Œåˆåœ¨ä¸€èµ·ä¹Ÿæ˜¯O(E)ï¼Œå¦‚æœæ˜¯é‚»æ¥çŸ©é˜µå°±æ˜¯O(V^2)ï¼Œåœ¨ç¨ å¯†å›¾çš„é‚»æ¥çŸ©é˜µä¸­O(V^2)å’ŒO(E)æ˜¯ä¸€ä¸ªçº§åˆ«çš„ã€‚åŒæ—¶å…¶ä¸­æœ‰ä¸ª<code>add()</code>æ“ä½œï¼Œå®ƒæ˜¯O(logE)çº§åˆ«çš„ã€‚</p>
<p>æ‰€ä»¥ï¼Œ<code>Lazy Prim</code>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(ElogE).</p>
<p>é€šè¿‡ä¼˜åŒ–ï¼Œ<code>Prim</code>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¯ä»¥æ”¹è¿›ä¸ºO(ElogV).</p>
<p><code>Lazy Prim</code>ç®—æ³•çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œæ‰€æœ‰çš„è¾¹éƒ½è¦è¿›å…¥æœ€å°å †ï¼Œéšç€åˆ‡åˆ†çš„è¿›è¡Œï¼Œå¾ˆå¤šå·²ç»ä¸æ˜¯æ¨ªåˆ‡è¾¹çš„è¾¹ä»åœ¨æœ€å°å †ä¸­ã€‚å¦ä¸€é—®é¢˜æ˜¯ï¼Œè™½ç„¶æœ‰å¾ˆå¤šæ¨ªåˆ‡è¾¹ï¼Œä½†æˆ‘ä»¬åªå…³æ³¨æœ€çŸ­çš„é‚£ä¸ªæ¨ªåˆ‡è¾¹ï¼Œå°¤å…¶æ˜¯å’Œä¸€ä¸ªèŠ‚ç‚¹ç›¸è¿çš„å¾ˆå¤šæ¨ªåˆ‡è¾¹ï¼Œå…¶å®åªéœ€è€ƒè™‘å’Œè¿™ä¸ªç‚¹ç›¸è¿çš„æœ€çŸ­çš„æ¨ªåˆ‡è¾¹å°±å¯ä»¥äº†ã€‚</p>
<p>åŸºäºè¿™ä¸ªæ€æƒ³ï¼Œéœ€è¦ç»´æŠ¤ä¸€ä¸ªæ•°æ®ç»“æ„â€”â€”å­˜å‚¨å’Œæ¯ä¸ªèŠ‚ç‚¹ç›¸è¿çš„é‚£ä¸ªæœ€çŸ­çš„æ¨ªåˆ‡è¾¹ã€‚åœ¨ä¸æ–­å¢åŠ çº¢è‰²èŠ‚ç‚¹æ”¹å˜åˆ‡åˆ†çš„è¿‡ç¨‹ä¸­ï¼Œåªè¦ä¸æ–­æ›´æ–°å’Œæ¯ä¸ªèŠ‚ç‚¹ç›¸è¿çš„æœ€çŸ­çš„æ¨ªåˆ‡è¾¹å°±å¯ä»¥äº†ã€‚å³è¿™ä¸ªæ•°æ®ç»“æ„è¦æ»¡è¶³ï¼šâ‘ å®ƒèƒ½å–åˆ°æœ€å°å€¼â‘¡èƒ½å¤Ÿä¾›æˆ‘ä»¬æ›´æ–°ã€‚æ‰€ä»¥éœ€è¦ä½¿ç”¨<code>IndexMinHeap</code>.</p>
<p>ç¬¬ä¸€æ­¥:<br>ä»¥0ä½œä¸ºèµ·ç‚¹å¼€å§‹ï¼Œç”±äºæœ€å°ç”Ÿæˆæ ‘æœ‰V-1ä¸ªè¾¹ï¼Œè€ŒIndexMinHeapæœ‰Vä¸ªç©ºé—´ï¼Œæ‰€ä»¥è‚¯å®šæœ‰ä¸€ä¸ªèŠ‚ç‚¹ä¸éœ€è¦å­˜å‚¨ä»»ä½•ä¸œè¥¿ã€‚å°±å°†åˆå§‹ç»“ç‚¹ä½œä¸ºä¸éœ€è¦å­˜å‚¨ä¸œè¥¿çš„èŠ‚ç‚¹ã€‚æ­¤æ—¶æœ‰äº†åˆå§‹èŠ‚ç‚¹åï¼Œç›¸å½“äºæœ‰äº†åˆ‡åˆ†ï¼Œè¿™æ—¶ï¼Œè¿™ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰ä¸´è¾¹éƒ½æ˜¯æ¨ªåˆ‡è¾¹ï¼Œè¿™ç§æƒ…å†µä¸‹ï¼Œå°±å°†è¿™äº›æ¨ªåˆ‡è¾¹åŠ å…¥åˆ°IndexMinHeapä¸­ã€‚<br>æ­¤æ—¶ï¼Œå’Œ2ç›¸è¿çš„æ¨ªåˆ‡è¾¹ï¼Œæœ€å°æƒå€¼æ˜¯0.26;å’Œ4ç›¸è¿çš„æ¨ªåˆ‡è¾¹ï¼Œæœ€å°æƒå€¼æ˜¯0.38;å’Œ6ç›¸è¿çš„æ¨ªåˆ‡è¾¹ï¼Œæœ€å°æƒå€¼æ˜¯0.58;å’Œ7ç›¸è¿çš„æ¨ªåˆ‡è¾¹ï¼Œæœ€å°æƒå€¼æ˜¯0.16.</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/25.png" alt="Primç¬¬ä¸€æ­¥-1"></p>
<p>è¿™æ—¶ï¼Œä»IndexMinHeapä¸­æ‰¾å‡ºæƒå€¼æœ€å°çš„ä¸€æ¡è¾¹ï¼Œæ ¹æ®åˆ‡åˆ†å®šç†ï¼Œä¸€å®šæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ï¼Œå³0.16è¿™æ¡è¾¹ã€‚è¿™æ—¶èŠ‚ç‚¹7åŠ å…¥çº¢è‰²éƒ¨åˆ†ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/26.png" alt="Primç¬¬ä¸€æ­¥-2"></p>
<p>ç¬¬äºŒæ­¥ï¼Œç”±äºç»“ç‚¹7åŠ å…¥äº†çº¢è‰²éƒ¨åˆ†ã€‚è¦è€ƒè™‘æ›´å¤šçš„æ¨ªåˆ‡è¾¹ï¼Œè¿™æ—¶éå†ç»“ç‚¹7çš„ä¸´è¾¹ã€‚å…ˆçœ‹<code>1-7</code>ï¼Œæ­¤æ—¶IndexMinHeapä¸­æ²¡æœ‰å’Œ1ç›¸è¿çš„æ¨ªåˆ‡è¾¹æƒå€¼æœ€å°çš„è¾¹ï¼Œæ‰€ä»¥IndexMinHeapä¸­1çš„å€¼æ›´æ–°ä¸º0.19;å†çœ‹<code>2-7</code>ï¼Œå…¶å€¼ä¸º0.34ï¼Œè€ŒIndexMinHeapä¸­å’Œ2ç›¸è¿çš„æ¨ªåˆ‡è¾¹æƒå€¼æœ€å°çš„æ˜¯<code>0-2:0.26</code>ï¼Œæ‰€ä»¥<code>2-7</code>è‚¯å®šä¸ä¼šæ˜¯æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ä¸€æ¡è¾¹ï¼Œå¯ä»¥ç›´æ¥å‰”é™¤ï¼›æ¥ç€çœ‹<code>4-7</code>ï¼Œè¿™ä¸ªè¾¹çš„æƒå€¼ä¸º0.37,å®ƒå°äºå½“å‰IndexMinHeapä¸­å­˜å‚¨çš„0.38ï¼Œæ‰€ä»¥å°†<code>4-7:0.37</code>æ›´æ–°åˆ°æœ€å°ç´¢å¼•å †ä¸­ï¼Œä¸æ­¤åŒæ—¶ï¼Œæ„å‘³ç€å°†<code>0-4:0.38</code>è¿™æ¡è¾¹ä¸¢å¼ƒï¼Œå› ä¸ºè¿™æ¡è¾¹ä¸å¯èƒ½ä¼šæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹;æœ€åï¼Œçœ‹<code>5-7</code>ï¼Œè¿™ä¸ªè¾¹çš„æƒå€¼ä¸º0.28ï¼Œå½“å‰IndexMinHeapå’Œ5ç›¸è¿çš„è¾¹è¿˜æ²¡æœ‰ï¼Œæ‰€ä»¥å°†å…¶æ”¾å…¥IndexMinHeapç´¢å¼•ä¸º5çš„ä½ç½®ä¸­ã€‚è¿™æ—¶å€™å°±å®Œæˆäº†<code>visit(7)</code>æ“ä½œã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/27.png" alt="Primç¬¬äºŒæ­¥-1"></p>
<p>ç„¶åä»æœ€å°ç´¢å¼•å †IndexMinHeapä¸­æ‰¾å‡ºæƒå€¼æœ€å°çš„è¾¹ï¼Œå³å’Œ1ç›¸è¿çš„<code>1-7:0.19</code>è¿™æ¡è¾¹ï¼Œå¯ä»¥ç¡®å®šå®ƒå±äºæœ€å°ç”Ÿæˆæ ‘ã€‚å› æ­¤ç»“ç‚¹1ä¹Ÿå¯ä»¥åŠ å…¥çº¢è‰²éƒ¨åˆ†</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/28.png" alt="Primç¬¬äºŒæ­¥-2"></p>
<p>ç¬¬ä¸‰æ­¥ï¼Œçœ‹å’Œç»“ç‚¹1ç›¸é‚»çš„æ‰€æœ‰è¾¹ã€‚é¦–å…ˆæ˜¯<code>1-2:0.36</code>ï¼Œåœ¨IndexMinHeapä¸­ç´¢å¼•ä¸º2çš„ä½ç½®å…¶å€¼ä¸º0.26ï¼Œæ‰€ä»¥<code>1-2</code>ä¸æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ï¼›æ¥ç€çœ‹<code>1-5:0.32</code>ï¼Œä½†æ˜¯åœ¨IndexMinHeapä¸­å’Œ5ç›¸è¿çš„æ¨ªåˆ‡è¾¹æœ€å°çš„å€¼ä¸º0.28ï¼Œæ‰€ä»¥å®ƒä¹Ÿä¸æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹;æœ€åçœ‹<code>1-3:0.29</code>ï¼Œç”±äºIndexMinHeapä¸­æ²¡æœ‰å’Œ3ç›¸è¿çš„æ¨ªåˆ‡è¾¹ï¼Œå°†å…¶æ”¾å…¥IndexMinHeapä¸­ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/29.png" alt="Primç¬¬ä¸‰æ­¥-1"></p>
<p>ç„¶åä»æœ€å°ç´¢å¼•å †ä¸­æ‰¾å‡ºæƒå€¼æœ€å°çš„è¾¹ï¼Œå³å’Œ2ç›¸è¿çš„<code>0-2:0.26</code>è¿™æ¡è¾¹ï¼Œå¯ä»¥ç¡®å®šå®ƒå±äºæœ€å°ç”Ÿæˆæ ‘ã€‚ä¸æ­¤åŒæ—¶ç»“ç‚¹2åŠ å…¥çº¢è‰²éƒ¨åˆ†ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/30.png" alt="Primç¬¬ä¸‰æ­¥-2"></p>
<p>ç¬¬å››æ­¥ï¼Œçœ‹å’Œç»“ç‚¹2ç›¸é‚»çš„æ‰€æœ‰è¾¹ã€‚è¿™é‡Œæ³¨æ„<code>2-7</code>å’Œ<code>1-2</code>ä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œæ‰€ä»¥ä¸ç”¨å†çœ‹äº†ï¼›ç„¶åçœ‹<code>2-3:0.17</code>ï¼Œæ­¤æ—¶æœ€å°ç´¢å¼•å †ä¸­ç´¢å¼•ä¸º3çš„ä½ç½®çš„å€¼ä¸º0.29ï¼Œæ‰€ä»¥å°†å…¶æ›´æ–°ä¸º0.17,åŒæ—¶0.29è¿™æ¡è¾¹å¯ä»¥å‰”é™¤ä¸åœ¨è€ƒè™‘;æ¥ç€çœ‹<code>2-6:0.40</code>ï¼Œæ­¤æ—¶æœ€å°ç´¢å¼•å †ä¸­çš„ç´¢å¼•ä¸º6çš„ä½ç½®çš„å€¼ä¸º0.58ï¼Œæ‰€ä»¥å°†å…¶æ›´æ–°ä¸º0.40ï¼ŒåŒæ—¶0.58è¿™æ¡è¾¹å¯ä»¥å‰”é™¤ä¸åœ¨è€ƒè™‘äº†.</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/31.png" alt="Primç¬¬å››æ­¥-1"></p>
<p>ç„¶åä»æœ€å°ç´¢å¼•å †ä¸­å–å‡ºæƒå€¼æœ€å°çš„è¾¹ï¼Œå³å’Œ3ç›¸è¿çš„0.17è¿™æ¡è¾¹ï¼Œæ ¹æ®åˆ‡åˆ†å®šç†ï¼Œå…¶ä¸€å®šå±äºæœ€å°ç”Ÿæˆæ ‘ã€‚åŒæ—¶ï¼Œå°†æ¥ç‚¹3åŠ å…¥çº¢è‰²éƒ¨åˆ†ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/32.png" alt="Primç¬¬å››æ­¥-2"></p>
<p>ç¬¬äº”æ­¥ï¼Œçœ‹å’Œæ¥ç‚¹3ç›¸é‚»çš„æ‰€æœ‰è¾¹ã€‚<code>1-3</code>ä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œæ‰€ä»¥ä¸ç”¨çœ‹ï¼›å‰©ä¸‹ä¸€æ¡<code>3-6:0.52</code>,å…¶å€¼0.52å¤§äºæœ€å°ç´¢å¼•å †ç´¢å¼•ä¸º6å¤„çš„0.40ï¼Œæ‰€ä»¥è¿™æ¡è¾¹å‰”é™¤ä¸å†è€ƒè™‘ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/33.png" alt="Primç¬¬äº”æ­¥-1"></p>
<p>ç„¶åä»æœ€å°ç´¢å¼•å †ä¸­æ‰¾å‡ºæƒå€¼æœ€å°çš„è¾¹ï¼Œå³å’Œ5ç›¸è¿çš„0.28è¿™æ¡è¾¹ï¼Œå®ƒä¸€å®šæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ã€‚åŒæ—¶å°†ç»“ç‚¹5åŠ å…¥çº¢è‰²éƒ¨åˆ†ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/34.png" alt="Primç¬¬äº”æ­¥-2"></p>
<p>ç¬¬å…­æ­¥ï¼Œçœ‹å’ŒèŠ‚ç‚¹5ç›¸é‚»çš„æ‰€æœ‰è¾¹ã€‚<code>1-5</code>ã€<code>5-7</code>ä¸æ˜¯æ¨ªåˆ‡è¾¹ï¼Œæ‰€ä»¥ä¸ç”¨å†çœ‹ï¼›<code>4-5:0.35</code>å…¶å€¼å°äºæœ€å°ç´¢å¼•å †ç´¢å¼•ä¸º4å¤„çš„å€¼0.37ï¼Œå°†å…¶æ›´æ–°ä¸º0.35ï¼ŒåŒæ—¶å°†0.37è¿™æ¡è¾¹å‰”é™¤.</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/35.png" alt="Primç¬¬å…­æ­¥-1"></p>
<p>ç„¶åä»æœ€å°ç´¢å¼•å †ä¸­æ‰¾å‡ºæœ€å°è¾¹ï¼Œå³0.35è¿™æ¡è¾¹ï¼Œå®ƒå°±æ˜¯æœ€å°ç”Ÿæˆæ ‘çš„è¾¹ã€‚åŒæ—¶å°†ç»“ç‚¹4åŠ å…¥çº¢è‰²éƒ¨åˆ†ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/36.png" alt="Primç¬¬å…­æ­¥-2"></p>
<p>ç¬¬ä¸ƒæ­¥ï¼Œçœ‹å’ŒèŠ‚ç‚¹4ç›¸é‚»çš„æ‰€æœ‰æ¨ªåˆ‡è¾¹ã€‚æ­¤æ—¶åªæœ‰<code>4-6:0.93</code>è¿™ä¸€æ¡æ¨ªåˆ‡è¾¹ï¼Œå…¶å€¼å¤§äºæ­¤æ—¶æœ€å°ç´¢å¼•å †ä¸­ç´¢å¼•ä¸º6å¤„çš„å€¼0.40ï¼Œæ‰€ä»¥å°†å…¶å‰”é™¤ã€‚</p>
<p>æœ€åå°†æœ€å°ç´¢å¼•å †ä¸­çš„0.40è¿™æ¡è¾¹å–å‡ºï¼Œä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„è¾¹ã€‚åŒæ—¶ç»“ç‚¹6åŠ å…¥çº¢è‰²éƒ¨åˆ†ã€‚è¿™æ—¶æ‰€æœ‰èŠ‚ç‚¹éå†å®Œæ¯•ï¼Œå¹¶ä¸”æ‰¾åˆ°äº†æœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/37.png" alt="Primç¬¬ä¸ƒæ­¥"></p>
<p>è¿™ç§æ–¹æ³•å¯¹äºä¸æ˜¯æ¨ªåˆ‡è¾¹çš„è¾¹åœ¨åˆ¤æ–­åä¼šæ‰”æ‰ï¼Œæ‰€ä»¥Primçš„æ—¶é—´å¤æ‚åº¦æ”¹è¿›è¿˜æ˜¯å¾ˆå¯è§‚çš„ã€‚</p>
<h2 id="Primç®—æ³•ä»£ç "><a href="#Primç®—æ³•ä»£ç " class="headerlink" title="Primç®—æ³•ä»£ç "></a>Primç®—æ³•ä»£ç </h2><p>è§é™„å½•2</p>
<h2 id="Kruskalç®—æ³•"><a href="#Kruskalç®—æ³•" class="headerlink" title="Kruskalç®—æ³•"></a>Kruskalç®—æ³•</h2><blockquote>
<p>Kruskalç®—æ³•çš„ä¸»è¦æ€æƒ³æ˜¯æŒ‰ç…§è¾¹çš„æƒé‡é¡ºåº(ä»å°åˆ°å¤§)å¤„ç†å®ƒä»¬ï¼Œå°†è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼ŒåŠ å…¥çš„è¾¹ä¸ä¼šä¸å·²ç»åŠ å…¥çš„è¾¹æ„æˆç¯ï¼ŒçŸ¥é“æ ‘ä¸­å«æœ‰V-1æ¡è¾¹ä¸ºæ­¢ã€‚è¿™äº›è¾¹é€æ¸ç”±ä¸€ç‰‡æ£®æ—åˆå¹¶ä¸ºä¸€æ£µæ ‘ï¼Œä¹Ÿå°±æ˜¯å›¾çš„æœ€å°ç”Ÿæˆæ ‘ã€‚â€”â€”ç®—æ³•ç¬¬å››ç‰ˆ</p>
</blockquote>
<p>ä½¿ç”¨Kruskalç®—æ³•ï¼Œä¸ºäº†æ–¹ä¾¿åœ°æ¯æ¬¡éƒ½èƒ½å–å‡ºæœ€çŸ­çš„è¾¹ï¼Œé¦–å…ˆå¯¹å›¾ä¸­æ‰€æœ‰çš„è¾¹æŒ‰ç…§æƒå€¼æ’åºã€‚</p>
<p>ç„¶åå°±è¦å–å‡ºè¿˜æ²¡æœ‰è€ƒè™‘çš„è¾¹ä¸­æœ€çŸ­çš„é‚£æ¡è¾¹ï¼Œçœ‹å°†æ­¤è¾¹åŠ å…¥åˆ°å›¾ä¸­æ˜¯å¦ä¼šç”Ÿæˆç¯ï¼ˆå¦‚æœç”Ÿæˆç¯é‚£ä¹ˆå°±ä¸æ˜¯æœ€å°ç”Ÿæˆæ ‘æˆ–è€…è¯´ä¸æ˜¯æ ‘ï¼‰ï¼Œå¦‚æœæ²¡æœ‰ç”Ÿæˆç¯é‚£ä¹ˆå®ƒå°±æ˜¯æœ€å°ç”Ÿæˆæ ‘ä¸­çš„è¾¹ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼š<code>0-7:0.16</code>,å°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œä¸ä¼šç”Ÿæˆç¯ï¼Œæ‰€ä»¥å°†è¿™æ¡è¾¹ä½œä¸ºæœ€å°ç”Ÿæˆæ ‘ä¸­çš„ä¸€æ¡è¾¹</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/38.png" alt="Kruskalç¬¬ä¸€æ­¥"></p>
<p>ç¬¬äºŒæ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>2-3:0.17</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œä¹Ÿä¸ä¼šç”Ÿæˆç¯ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/39.png" alt="Kruskalç¬¬äºŒæ­¥"></p>
<p>ç¬¬ä¸‰æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>1-7:0.19</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œä¸ä¼šç”Ÿæˆç¯ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚</p>
<p>ç¬¬å››æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>0-2:0.26</code>ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„ï¼Œè™½ç„¶èŠ‚ç‚¹0å’ŒèŠ‚ç‚¹2éƒ½æ˜¯çº¢è‰²ï¼Œä½†æ˜¯å°†è¿™æ¡è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘åå¹¶æ²¡æœ‰å½¢æˆç¯ï¼Œæ‰€ä»¥å®ƒå¯ä»¥ä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/40.png" alt="Kruskalç¬¬å››æ­¥"></p>
<p>ç¬¬äº”æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>5-7:0.28</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œä¸ä¼šç”Ÿæˆç¯ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/45.png" alt="Kruskalç¬¬äº”æ­¥"></p>
<p>ç¬¬å…­æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>1-3:0.29</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œ<font color=red>ä¼šç”Ÿæˆç¯</font>ï¼Œä¸èƒ½ä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ï¼Œæ‰€ä»¥ä¸å†è€ƒè™‘å®ƒã€‚</p>
<p>ç¬¬ä¸ƒæ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>1-5:0.32</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œ<font color=red>ä¼šç”Ÿæˆç¯</font>ï¼Œæ‰€ä»¥ä¸å†è€ƒè™‘å®ƒã€‚</p>
<p>ç¬¬å…«æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>2-7:0.34</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œ<font color=red>ä¼šç”Ÿæˆç¯</font>ï¼Œæ‰€ä»¥ä¸å†è€ƒè™‘å®ƒã€‚</p>
<p>ç¬¬ä¹æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>4-5:0.35</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œä¸ä¼šç”Ÿæˆç¯ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/41.png" alt="Kruskalç¬¬ä¹æ­¥"></p>
<p>ç¬¬åæ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>1-2:0.36</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œ<font color=red>ä¼šç”Ÿæˆç¯</font>ï¼Œæ‰€ä»¥ä¸å†è€ƒè™‘å®ƒã€‚</p>
<p>ç¬¬åä¸€æ­¥ã€ç¬¬åäºŒæ­¥çš„è¾¹<code>4-7:0.37</code>ã€<code>0-4:0.38</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œ<font color=red>ä¼šç”Ÿæˆç¯</font>ï¼Œæ‰€ä»¥ä¸å†è€ƒè™‘å®ƒä»¬ã€‚</p>
<p>ç¬¬åä¸‰æ­¥ï¼šä¸‹ä¸€æ¡æœ€å°çš„è¾¹ä¸º<code>2-6:0.40</code>ï¼Œå°†å…¶æ”¾å…¥æœ€å°ç”Ÿæˆæ ‘ä¸­ï¼Œä¸ä¼šç”Ÿæˆç¯ï¼Œæ‰€ä»¥å®ƒæ˜¯æœ€å°ç”Ÿæˆæ ‘çš„ä¸€æ¡è¾¹ã€‚</p>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/42.png" alt="Kruskalç¬¬åä¸‰æ­¥"></p>
<p>è‡³æ­¤å·²ç»æœ‰äº†V-1æ¡è¾¹ï¼Œå¹¶ä¸”å°†Vä¸ªé¡¶ç‚¹éƒ½è¿æ¥èµ·æ¥äº†ï¼Œè¿™æ—¶å€™ç®—æ³•å°±å¯ä»¥ç»“æŸäº†ã€‚å¦‚æœç»§ç»­æ‰«æçš„è¯ï¼Œå‰©ä¸‹çš„è¾¹ä¹Ÿéƒ½ä¼šè®©æœ€å°ç”Ÿæˆæ ‘å½¢æˆç¯ï¼Œä¹Ÿéƒ½ä¸ä¼šè¢«è€ƒè™‘ï¼Œç›´åˆ°æ‰«æç»“æŸã€‚</p>
<p>æ•´ä¸ªè¿‡ç¨‹ä¸­ï¼Œå…³é”®çš„æ“ä½œæ˜¯åˆ¤æ–­åŠ å…¥ä¸€æ¡è¾¹åï¼Œæ˜¯å¦ä¼šè¡Œç¨‹ä¸€ä¸ªç¯ï¼Œè¿™ä¸ªæ“ä½œå¯ä»¥ä½¿ç”¨<a href="https://homxuwang.github.io/2019/01/22/%E5%B9%B6%E6%9F%A5%E9%9B%86/">å¹¶æŸ¥é›†</a>ç»“æ„è¿›è¡Œè¾…åŠ©ã€‚</p>
<p>é‚£ä¹ˆå¦‚ä½•ä½¿ç”¨å¹¶æŸ¥é›†è¿›è¡Œè¾…åŠ©å‘¢ï¼Ÿ<br>åœ¨æ¯ä¸€æ¬¡åŠ å…¥ä¸€æ¡è¾¹ä½œä¸ºæœ€å°ç”Ÿæˆæ ‘çš„åŒæ—¶ï¼Œå¯¹ä¸€æ¡è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹è¿›è¡ŒUnionæ“ä½œã€‚æ¯”å¦‚æ­¤æ—¶è¦åŠ å…¥<code>1-3</code>è¿™æ¡è¾¹ï¼Œå»æ‰¾å¹¶æŸ¥é›†ä¸­1çš„æ ¹èŠ‚ç‚¹å’Œ3çš„æ ¹èŠ‚ç‚¹ï¼Œå®ƒä»¬ä¸€å®šå±äºåŒä¸€ä¸ªæ ¹ï¼Œè¯´æ˜æœ€å°ç”Ÿæˆæ ‘ä¸­å·²ç»è¿æ¥äº†èŠ‚ç‚¹1å’ŒèŠ‚ç‚¹3äº†ï¼Œæ­¤æ—¶å†å°†<code>1-3</code>è¿æ¥çš„è¯ï¼Œå°±å¿…ç„¶å½¢æˆä¸€ä¸ªç¯ï¼Œè¿™æ—¶å°±å¯ä»¥ä¸è€ƒè™‘è¿™æ¡è¾¹äº†ã€‚</p>
<h2 id="Kruskalç®—æ³•ä»£ç å®ç°"><a href="#Kruskalç®—æ³•ä»£ç å®ç°" class="headerlink" title="Kruskalç®—æ³•ä»£ç å®ç°"></a>Kruskalç®—æ³•ä»£ç å®ç°</h2><p>è§é™„å½•3</p>
<blockquote>
<p>Kruskalç®—æ³•çš„è®¡ç®—ä¸€å‰¯å«æœ‰Vä¸ªé¡¶ç‚¹å’ŒEæ¡è¾¹çš„è¿é€šåŠ æƒæ— å‘å›¾çš„æœ€å°ç”Ÿæˆæ ‘æ‰€éœ€çš„ç©ºé—´å’ŒEæˆæ­£æ¯”ï¼Œæ‰€éœ€çš„æ—¶é—´å’ŒElogEæˆæ­£æ¯”(æœ€åæƒ…å†µ)ã€‚</p>
</blockquote>
<blockquote>
<p>ä¸Primç®—æ³•ä¸€æ ·ï¼Œè¿™ä¸ªä¼°è®¡æ˜¯æ¯”è¾ƒä¿å®ˆçš„ï¼Œå› ä¸ºç®—æ³•åœ¨æ‰¾åˆ°V-1æ¡è¾¹ä¹‹åå°±ä¼šç»ˆæ­¢ã€‚å®é™…çš„æˆæœ¬åº”è¯¥ä¸E+E0logEæˆæ­£æ¯”ï¼Œå…¶ä¸­E0æ˜¯æƒé‡å°äºæœ€å°ç”Ÿæˆæ ‘ä¸­æƒé‡æœ€å¤§çš„è¾¹çš„æ‰€æœ‰è¾¹çš„æ€»æ•°ã€‚å°½ç®¡æ‹¥æœ‰è¿™ä¸ªä¼˜åŠ¿ï¼ŒKruskalç®—æ³•ä¸€èˆ¬è¿˜æ˜¯æ¯”Primç®—æ³•è¦æ…¢ï¼Œå› ä¸ºåœ¨å¤„ç†æ¯æ¡è¾¹æ—¶é™¤äº†ä¸¤ç§ç®—æ³•éƒ½è¦å®Œæˆçš„ä¼˜å…ˆé˜Ÿåˆ—æ“ä½œä¹‹å¤–ï¼Œä»–è¿˜è¦è¿›è¡Œä¸€æ¬¡connect()æ“ä½œã€‚</p>
</blockquote>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>Lazy Prim   :    O(ElogE)<br>Prim        :    O(ElogV)  æ•´ä½“è€Œè¨€æ•ˆç‡æœ€é«˜<br>Kruskal     :    O(ElogE)</p>
<p>åœ¨ç®—æ³•ç¬¬å››ç‰ˆæœ‰çº¦å®šï¼Œæ‰€æœ‰è¾¹çš„æƒé‡éƒ½å„ä¸ç›¸åŒã€‚ä½†æ˜¯å¦‚æœæœ‰æ¨ªåˆ‡è¾¹ç›¸ç­‰çš„è¾¹ï¼Œé‚£ä¹ˆæ ¹æ®ç®—æ³•çš„å…·ä½“å®ç°ï¼Œæ¯æ¬¡é€‰æ‹©ä¸€ä¸ªè¾¹ï¼Œæ­¤æ—¶å­˜åœ¨å¤šä¸ªæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<p>å¦å¤–è¿˜æœ‰ä¸ª<code>Vyssotsky&#39;s Algorithm</code>æå‡ºçš„ç®—æ³•ï¼Œå°†è¾¹é€æ¸çš„æ·»åŠ åˆ°ç”Ÿæˆæ ‘ä¸­ï¼Œä¸€æ—¦å½¢æˆç¯ï¼Œå°±åˆ é™¤ç¯ä¸­æƒå€¼æœ€å¤§çš„è¾¹ã€‚è¿™ä¸ªè¿‡ç¨‹å®Œæˆåå¯ä»¥å½¢æˆä¸€ä¸ªæœ€å°ç”Ÿæˆæ ‘ã€‚</p>
<h1 id="é™„å½•1"><a href="#é™„å½•1" class="headerlink" title="é™„å½•1"></a>é™„å½•1</h1><p>é¦–å…ˆåˆ›å»ºæœ€å°å †<code>MinHeap.java</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å †çš„æœ‰å…³æ“ä½œä¸­ï¼Œéœ€è¦æ¯”è¾ƒå †ä¸­å…ƒç´ çš„å¤§å°ï¼Œæ‰€ä»¥Iteméœ€è¦extends Comparable</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MinHeap</span>&lt;<span class="title">Item</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> Item[] data;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> capacity;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°, æ„é€ ä¸€ä¸ªç©ºå †, å¯å®¹çº³capacityä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinHeap</span><span class="params">(<span class="keyword">int</span> capacity)</span></span>&#123;</span><br><span class="line">        data = (Item[])<span class="keyword">new</span> Comparable[capacity+<span class="number">1</span>];</span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°, é€šè¿‡ä¸€ä¸ªç»™å®šæ•°ç»„åˆ›å»ºä¸€ä¸ªæœ€å°å †</span></span><br><span class="line">    <span class="comment">// è¯¥æ„é€ å †çš„è¿‡ç¨‹, æ—¶é—´å¤æ‚åº¦ä¸ºO(n)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinHeap</span><span class="params">(Item arr[])</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> n = arr.length;</span><br><span class="line"></span><br><span class="line">        data = (Item[])<span class="keyword">new</span> Comparable[n+<span class="number">1</span>];</span><br><span class="line">        capacity = n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; n ; i ++ )</span><br><span class="line">            data[i+<span class="number">1</span>] = arr[i];</span><br><span class="line">        count = n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = count/<span class="number">2</span> ; i &gt;= <span class="number">1</span> ; i -- )</span><br><span class="line">            shiftDown(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›å †ä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼, è¡¨ç¤ºå †ä¸­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘æœ€å°å †ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´  item</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(Item item)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">assert</span> count + <span class="number">1</span> &lt;= capacity;</span><br><span class="line">        data[count+<span class="number">1</span>] = item;</span><br><span class="line">        count ++;</span><br><span class="line">        shiftUp(count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»æœ€å°å †ä¸­å–å‡ºå †é¡¶å…ƒç´ , å³å †ä¸­æ‰€å­˜å‚¨çš„æœ€å°æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">extractMin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> count &gt; <span class="number">0</span>;</span><br><span class="line">        Item ret = data[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">        swap( <span class="number">1</span> , count );</span><br><span class="line">        count --;</span><br><span class="line">        shiftDown(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æœ€å°å †ä¸­çš„å †é¡¶å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getMin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>( count &gt; <span class="number">0</span> );</span><br><span class="line">        <span class="keyword">return</span> data[<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº¤æ¢å †ä¸­ç´¢å¼•ä¸ºiå’Œjçš„ä¸¤ä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        Item t = data[i];</span><br><span class="line">        data[i] = data[j];</span><br><span class="line">        data[j] = t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//********************</span></span><br><span class="line">    <span class="comment">//* æœ€å°å †æ ¸å¿ƒè¾…åŠ©å‡½æ•°</span></span><br><span class="line">    <span class="comment">//********************</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">shiftUp</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>( k &gt; <span class="number">1</span> &amp;&amp; data[k/<span class="number">2</span>].compareTo(data[k]) &gt; <span class="number">0</span> )&#123;</span><br><span class="line">            swap(k, k/<span class="number">2</span>);</span><br><span class="line">            k /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">shiftDown</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>( <span class="number">2</span>*k &lt;= count )&#123;</span><br><span class="line">            <span class="keyword">int</span> j = <span class="number">2</span>*k; <span class="comment">// åœ¨æ­¤è½®å¾ªç¯ä¸­,data[k]å’Œdata[j]äº¤æ¢ä½ç½®</span></span><br><span class="line">            <span class="keyword">if</span>( j+<span class="number">1</span> &lt;= count &amp;&amp; data[j+<span class="number">1</span>].compareTo(data[j]) &lt; <span class="number">0</span> )</span><br><span class="line">                j ++;</span><br><span class="line">            <span class="comment">// data[j] æ˜¯ data[2*k]å’Œdata[2*k+1]ä¸­çš„æœ€å°å€¼</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>( data[k].compareTo(data[j]) &lt;= <span class="number">0</span> ) <span class="keyword">break</span>;</span><br><span class="line">            swap(k, j);</span><br><span class="line">            k = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯• MinHeap</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        MinHeap&lt;Integer&gt; minHeap = <span class="keyword">new</span> MinHeap&lt;Integer&gt;(<span class="number">100</span>);</span><br><span class="line">        <span class="keyword">int</span> N = <span class="number">100</span>; <span class="comment">// å †ä¸­å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">        <span class="keyword">int</span> M = <span class="number">100</span>; <span class="comment">// å †ä¸­å…ƒç´ å–å€¼èŒƒå›´[0, M)</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; N ; i ++ )</span><br><span class="line">            minHeap.insert( <span class="keyword">new</span> Integer((<span class="keyword">int</span>)(Math.random() * M)) );</span><br><span class="line"></span><br><span class="line">        Integer[] arr = <span class="keyword">new</span> Integer[N];</span><br><span class="line">        <span class="comment">// å°†minheapä¸­çš„æ•°æ®é€æ¸ä½¿ç”¨extractMinå–å‡ºæ¥</span></span><br><span class="line">        <span class="comment">// å–å‡ºæ¥çš„é¡ºåºåº”è¯¥æ˜¯æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºå–å‡ºæ¥çš„</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; N ; i ++ )&#123;</span><br><span class="line">            arr[i] = minHeap.extractMin();</span><br><span class="line">            System.out.print(arr[i] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç¡®ä¿arræ•°ç»„æ˜¯ä»å°åˆ°å¤§æ’åˆ—çš„</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; N ; i ++ )</span><br><span class="line">            <span class="keyword">assert</span> arr[i-<span class="number">1</span>] &lt;= arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååˆ›å»º<code>LazyPrimMST.java</code>ç±»è¿›è¡Œç®—æ³•çš„ç¼–å†™.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LazyPrimMST</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> WeightedGraph&lt;Weight&gt; G;    <span class="comment">//å›¾çš„å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">private</span> MinHeap&lt;Edge&lt;Weight&gt;&gt; pq;   <span class="comment">//æœ€å°å †ï¼Œç®—æ³•è¾…åŠ©æ•°æ®ç»“æ„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked;         <span class="comment">//æ ‡è®°æ•°ç»„ï¼Œåœ¨ç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­æ ‡è®°èŠ‚ç‚¹iæ˜¯å¦è¢«è®¿é—®ï¼ˆå³å›¾ä¸­çš„è“è‰²éƒ¨åˆ†å’Œçº¢è‰²éƒ¨åˆ†ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Edge&lt;Weight&gt;&gt; mst;   <span class="comment">//æœ€å°ç”Ÿæˆæ ‘æ‰€åŒ…å«çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    <span class="keyword">private</span> Number mstWeight;          <span class="comment">//æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°ï¼Œä½¿ç”¨Primç®—æ³•æ±‚å›¾çš„æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LazyPrimMST</span><span class="params">(WeightedGraph&lt;Weight&gt; graph)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç®—æ³•åˆå§‹åŒ–</span></span><br><span class="line">        G = graph;</span><br><span class="line">        pq = <span class="keyword">new</span> MinHeap&lt;Edge&lt;Weight&gt;&gt;(G.E());</span><br><span class="line">        marked = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        mst = <span class="keyword">new</span> Vector&lt;Edge&lt;Weight&gt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Lazy Prim</span></span><br><span class="line">        visit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty())&#123;</span><br><span class="line">            <span class="comment">// ä½¿ç”¨æœ€å°å †æ‰¾å‡ºå·²ç»è®¿é—®çš„è¾¹ä¸­æƒå€¼æœ€å°çš„è¾¹</span></span><br><span class="line">            Edge&lt;Weight&gt; e = pq.extractMin();</span><br><span class="line">            <span class="comment">// å¦‚æœè¿™æ¡è¾¹çš„ä¸¤ç«¯éƒ½å·²ç»è®¿é—®è¿‡äº†, å®ƒä¸æ˜¯æ¨ªåˆ‡è¾¹,æ‰”æ‰è¿™æ¡è¾¹</span></span><br><span class="line">            <span class="keyword">if</span>(marked[e.v()] == marked[e.w()])</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            <span class="comment">//å¦åˆ™ï¼Œè¿™æ¡è¾¹åº”è¯¥å­˜åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­</span></span><br><span class="line">            mst.add(e);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//è®¿é—®å’Œè¿™æ¡è¾¹è¿æ¥çš„è¿˜æ²¡æœ‰è¢«è®¿é—®è¿‡çš„èŠ‚ç‚¹(æ‰¾åˆ°è“è‰²ä¸€ç«¯çš„ç«¯ç‚¹)</span></span><br><span class="line">            <span class="keyword">if</span>( !marked[e.v()] )</span><br><span class="line">                visit(e.v());</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                visit(e.w());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¡ç®—æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line">        mstWeight = mst.elementAt(<span class="number">0</span>).wt();</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; mst.size() ; i ++)</span><br><span class="line">            mstWeight = mstWeight.doubleValue() + mst.elementAt(i).wt().doubleValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¿é—®èŠ‚ç‚¹</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">visit</span><span class="params">(<span class="keyword">int</span> v)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( marked[v] )&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;this point has been visited!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        marked[v] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†å’ŒèŠ‚ç‚¹vç›¸è¿çš„æ‰€æœ‰æœªè®¿é—®çš„è¾¹æ”¾å…¥æœ€å°å †ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(Edge&lt;Weight&gt; e : G.adj(v))&#123;</span><br><span class="line">            <span class="keyword">if</span>(!marked[e.other(v)]) <span class="comment">//æ‰¾åˆ°ä¸å…¶å¯¹åº”çš„å¦ä¸€ä¸ªç«¯ç‚¹ï¼Œå¦‚æœæ˜¯æ¨ªåˆ‡è¾¹</span></span><br><span class="line">                pq.insert(e);        <span class="comment">//å°±åŠ å…¥åˆ°å †ä¸­</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    Vector&lt;Edge&lt;Weight&gt;&gt; mstEdges()&#123;</span><br><span class="line">        <span class="keyword">return</span> mst;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line">    <span class="function">Number <span class="title">result</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mstWeight;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨<code>Main.java</code>ä¸­è¿›è¡Œæµ‹è¯•:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯•é€šè¿‡æ–‡ä»¶è¯»å–å›¾çš„ä¿¡æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä½¿ç”¨ä¸¤ç§å›¾çš„å­˜å‚¨æ–¹å¼è¯»å–testG1.txtæ–‡ä»¶</span></span><br><span class="line">        String filename = <span class="string">&quot;testG1.txt&quot;</span>;</span><br><span class="line">        SparseWeightedGraph&lt;Double&gt; g = <span class="keyword">new</span> SparseWeightedGraph&lt;Double&gt;(<span class="number">8</span>, <span class="keyword">false</span>);</span><br><span class="line">        ReadWeightedGraph readGraph1 = <span class="keyword">new</span> ReadWeightedGraph(g, filename);</span><br><span class="line">         <span class="comment">// Test Lazy Prim MST</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Test Lazy Prim MST:&quot;</span>);</span><br><span class="line">        LazyPrimMST&lt;Double&gt; lazyPrimMST = <span class="keyword">new</span> LazyPrimMST&lt;Double&gt;(g);</span><br><span class="line">        Vector&lt;Edge&lt;Double&gt;&gt; mst = lazyPrimMST.mstEdges();</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; mst.size() ; i ++ )</span><br><span class="line">            System.out.println(mst.elementAt(i));</span><br><span class="line">        System.out.println(<span class="string">&quot;The MST weight is: &quot;</span> + lazyPrimMST.result());</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/24.png" alt="æµ‹è¯•ç»“æœ"></p>
<h1 id="é™„å½•2"><a href="#é™„å½•2" class="headerlink" title="é™„å½•2"></a>é™„å½•2</h1><p>æœ€å°ç´¢å¼•å †<code>IndexMinHeap.java</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æœ€å°ç´¢å¼•å †</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IndexMinHeap</span>&lt;<span class="title">Item</span> <span class="keyword">extends</span> <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> Item[] data;      <span class="comment">// æœ€å°ç´¢å¼•å †ä¸­çš„æ•°æ®</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span>[] indexes;    <span class="comment">// æœ€å°ç´¢å¼•å †ä¸­çš„ç´¢å¼•, indexes[x] = i è¡¨ç¤ºç´¢å¼•iåœ¨xçš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span>[] reverse;    <span class="comment">// æœ€å°ç´¢å¼•å †ä¸­çš„åå‘ç´¢å¼•, reverse[i] = x è¡¨ç¤ºç´¢å¼•iåœ¨xçš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> count;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">int</span> capacity;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°, æ„é€ ä¸€ä¸ªç©ºå †, å¯å®¹çº³capacityä¸ªå…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">IndexMinHeap</span><span class="params">(<span class="keyword">int</span> capacity)</span></span>&#123;</span><br><span class="line">        data = (Item[])<span class="keyword">new</span> Comparable[capacity+<span class="number">1</span>];</span><br><span class="line">        indexes = <span class="keyword">new</span> <span class="keyword">int</span>[capacity+<span class="number">1</span>];</span><br><span class="line">        reverse = <span class="keyword">new</span> <span class="keyword">int</span>[capacity+<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt;= capacity ; i ++ )</span><br><span class="line">            reverse[i] = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        count = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">this</span>.capacity = capacity;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ç´¢å¼•å †ä¸­çš„å…ƒç´ ä¸ªæ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">size</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼, è¡¨ç¤ºç´¢å¼•å †ä¸­æ˜¯å¦ä¸ºç©º</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isEmpty</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å‘æœ€å°ç´¢å¼•å †ä¸­æ’å…¥ä¸€ä¸ªæ–°çš„å…ƒç´ , æ–°å…ƒç´ çš„ç´¢å¼•ä¸ºi, å…ƒç´ ä¸ºitem</span></span><br><span class="line">    <span class="comment">// ä¼ å…¥çš„iå¯¹ç”¨æˆ·è€Œè¨€,æ˜¯ä»0ç´¢å¼•çš„</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(<span class="keyword">int</span> i, Item item)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">assert</span> count + <span class="number">1</span> &lt;= capacity;</span><br><span class="line">        <span class="keyword">assert</span> i + <span class="number">1</span> &gt;= <span class="number">1</span> &amp;&amp; i + <span class="number">1</span> &lt;= capacity;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å†æ’å…¥ä¸€ä¸ªæ–°å…ƒç´ å‰,è¿˜éœ€è¦ä¿è¯ç´¢å¼•iæ‰€åœ¨çš„ä½ç½®æ˜¯æ²¡æœ‰å…ƒç´ çš„ã€‚</span></span><br><span class="line">        <span class="keyword">assert</span> !contain(i);</span><br><span class="line"></span><br><span class="line">        i += <span class="number">1</span>;</span><br><span class="line">        data[i] = item;</span><br><span class="line">        indexes[count+<span class="number">1</span>] = i;</span><br><span class="line">        reverse[i] = count + <span class="number">1</span>;</span><br><span class="line">        count ++;</span><br><span class="line"></span><br><span class="line">        shiftUp(count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»æœ€å°ç´¢å¼•å †ä¸­å–å‡ºå †é¡¶å…ƒç´ , å³ç´¢å¼•å †ä¸­æ‰€å­˜å‚¨çš„æœ€å°æ•°æ®</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">extractMin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> count &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        Item ret = data[indexes[<span class="number">1</span>]];</span><br><span class="line">        swapIndexes( <span class="number">1</span> , count );</span><br><span class="line">        reverse[indexes[count]] = <span class="number">0</span>;</span><br><span class="line">        count --;</span><br><span class="line">        shiftDown(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä»æœ€å°ç´¢å¼•å †ä¸­å–å‡ºå †é¡¶å…ƒç´ çš„ç´¢å¼•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">extractMinIndex</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> count &gt; <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> ret = indexes[<span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">        swapIndexes( <span class="number">1</span> , count );</span><br><span class="line">        reverse[indexes[count]] = <span class="number">0</span>;</span><br><span class="line">        count --;</span><br><span class="line">        shiftDown(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æœ€å°ç´¢å¼•å †ä¸­çš„å †é¡¶å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getMin</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> count &gt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> data[indexes[<span class="number">1</span>]];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æœ€å°ç´¢å¼•å †ä¸­çš„å †é¡¶å…ƒç´ çš„ç´¢å¼•</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMinIndex</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span> count &gt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> indexes[<span class="number">1</span>]-<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çœ‹ç´¢å¼•iæ‰€åœ¨çš„ä½ç½®æ˜¯å¦å­˜åœ¨å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">contain</span><span class="params">( <span class="keyword">int</span> i )</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>  i + <span class="number">1</span> &gt;= <span class="number">1</span> &amp;&amp; i + <span class="number">1</span> &lt;= capacity;</span><br><span class="line">        <span class="keyword">return</span> reverse[i+<span class="number">1</span>] != <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æœ€å°ç´¢å¼•å †ä¸­ç´¢å¼•ä¸ºiçš„å…ƒç´ </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Item <span class="title">getItem</span><span class="params">( <span class="keyword">int</span> i )</span></span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">assert</span> <span class="title">contain</span><span class="params">(i)</span></span>;</span><br><span class="line">        <span class="keyword">return</span> data[i+<span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°†æœ€å°ç´¢å¼•å †ä¸­ç´¢å¼•ä¸ºiçš„å…ƒç´ ä¿®æ”¹ä¸ºnewItem</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">change</span><span class="params">( <span class="keyword">int</span> i , Item newItem )</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">assert</span> <span class="title">contain</span><span class="params">(i)</span></span>;</span><br><span class="line"></span><br><span class="line">        i += <span class="number">1</span>;</span><br><span class="line">        data[i] = newItem;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æœ‰äº† reverse ä¹‹å,</span></span><br><span class="line">        <span class="comment">// æˆ‘ä»¬å¯ä»¥éå¸¸ç®€å•çš„é€šè¿‡reverseç›´æ¥å®šä½ç´¢å¼•iåœ¨indexesä¸­çš„ä½ç½®</span></span><br><span class="line">        shiftUp( reverse[i] );</span><br><span class="line">        shiftDown( reverse[i] );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº¤æ¢ç´¢å¼•å †ä¸­çš„ç´¢å¼•iå’Œj</span></span><br><span class="line">    <span class="comment">// ç”±äºæœ‰äº†åå‘ç´¢å¼•reverseæ•°ç»„ï¼Œ</span></span><br><span class="line">    <span class="comment">// indexesæ•°ç»„å‘ç”Ÿæ”¹å˜ä»¥åï¼Œ ç›¸åº”çš„å°±éœ€è¦ç»´æŠ¤reverseæ•°ç»„</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swapIndexes</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> t = indexes[i];</span><br><span class="line">        indexes[i] = indexes[j];</span><br><span class="line">        indexes[j] = t;</span><br><span class="line"></span><br><span class="line">        reverse[indexes[i]] = i;</span><br><span class="line">        reverse[indexes[j]] = j;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//********************</span></span><br><span class="line">    <span class="comment">//* æœ€å°ç´¢å¼•å †æ ¸å¿ƒè¾…åŠ©å‡½æ•°</span></span><br><span class="line">    <span class="comment">//********************</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç´¢å¼•å †ä¸­, æ•°æ®ä¹‹é—´çš„æ¯”è¾ƒæ ¹æ®dataçš„å¤§å°è¿›è¡Œæ¯”è¾ƒ, ä½†å®é™…æ“ä½œçš„æ˜¯ç´¢å¼•</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">shiftUp</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>( k &gt; <span class="number">1</span> &amp;&amp; data[indexes[k/<span class="number">2</span>]].compareTo(data[indexes[k]]) &gt; <span class="number">0</span> )&#123;</span><br><span class="line">            swapIndexes(k, k/<span class="number">2</span>);</span><br><span class="line">            k /= <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç´¢å¼•å †ä¸­, æ•°æ®ä¹‹é—´çš„æ¯”è¾ƒæ ¹æ®dataçš„å¤§å°è¿›è¡Œæ¯”è¾ƒ, ä½†å®é™…æ“ä½œçš„æ˜¯ç´¢å¼•</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">shiftDown</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span>( <span class="number">2</span>*k &lt;= count )&#123;</span><br><span class="line">            <span class="keyword">int</span> j = <span class="number">2</span>*k;</span><br><span class="line">            <span class="keyword">if</span>( j+<span class="number">1</span> &lt;= count &amp;&amp; data[indexes[j+<span class="number">1</span>]].compareTo(data[indexes[j]]) &lt; <span class="number">0</span> )</span><br><span class="line">                j ++;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>( data[indexes[k]].compareTo(data[indexes[j]]) &lt;= <span class="number">0</span> )</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            swapIndexes(k, j);</span><br><span class="line">            k = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯• IndexMinHeap</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> N = <span class="number">1000000</span>;</span><br><span class="line">        IndexMinHeap&lt;Integer&gt; indexMinHeap = <span class="keyword">new</span> IndexMinHeap&lt;Integer&gt;(N);</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; N ; i ++ )</span><br><span class="line">            indexMinHeap.insert( i , (<span class="keyword">int</span>)(Math.random()*N) );</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>PrimMST.java</code>ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimMST</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> WeightedGraph G;          <span class="comment">//å›¾çš„å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">private</span> IndexMinHeap&lt;Weight&gt; ipq; <span class="comment">//æœ€å°ç´¢å¼•å †</span></span><br><span class="line">    <span class="keyword">private</span> Edge&lt;Weight&gt;[] edgeTo;   <span class="comment">//è®¿é—®çš„ç‚¹æ‰€å¯¹åº”çš„è¾¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">boolean</span>[] marked;       <span class="comment">//æ ‡è®°æ•°ç»„,åœ¨ç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­æ ‡è®°èŠ‚ç‚¹iæ˜¯å¦è¢«è®¿é—®</span></span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Edge&lt;Weight&gt;&gt; mst; <span class="comment">//æœ€å°ç”Ÿæˆæ ‘æ‰€åŒ…å«çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    <span class="keyword">private</span> Number mstWeight;        <span class="comment">//æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°ï¼Œä½¿ç”¨Primç®—æ³•æ±‚å›¾çš„æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">PrimMST</span><span class="params">(WeightedGraph graph)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        G = graph;</span><br><span class="line">        <span class="keyword">if</span>(!(graph.E() &gt;= <span class="number">1</span>))&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Edges of graph should &gt;= 1&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ipq = <span class="keyword">new</span> IndexMinHeap&lt;&gt;(graph.V());  <span class="comment">//å¼€è¾Ÿé¡¶ç‚¹ä¸ªæ•°çš„ç©ºé—´å°±å¯ä»¥</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç®—æ³•åˆå§‹åŒ–</span></span><br><span class="line">        marked = <span class="keyword">new</span> <span class="keyword">boolean</span>[G.V()];</span><br><span class="line">        edgeTo = <span class="keyword">new</span> Edge[G.V()];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; G.V() ; i ++)&#123;</span><br><span class="line">            marked[i] = <span class="keyword">false</span>;</span><br><span class="line">            edgeTo[i] = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        mst = <span class="keyword">new</span> Vector&lt;Edge&lt;Weight&gt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Prim</span></span><br><span class="line">        visit(<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">while</span> (!ipq.isEmpty())&#123;</span><br><span class="line">            <span class="comment">// ä½¿ç”¨æœ€å°ç´¢å¼•å †æ‰¾å‡ºå·²ç»è®¿é—®çš„è¾¹ä¸­æƒå€¼æœ€å°çš„è¾¹</span></span><br><span class="line">            <span class="comment">// æœ€å°ç´¢å¼•å †ä¸­å­˜å‚¨çš„æ˜¯ç‚¹çš„ç´¢å¼•, é€šè¿‡ç‚¹çš„ç´¢å¼•æ‰¾åˆ°ç›¸å¯¹åº”çš„è¾¹</span></span><br><span class="line">            <span class="keyword">int</span> v = ipq.extractMinIndex();</span><br><span class="line">            <span class="keyword">if</span>(edgeTo[v] == <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;Edge should&#x27;t be null&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            mst.add(edgeTo[v]);</span><br><span class="line">            visit(v);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¡ç®—æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line">        mstWeight = mst.elementAt(<span class="number">0</span>).wt();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; mst.size() ; i ++)&#123;</span><br><span class="line">            mstWeight = mstWeight.doubleValue() + mst.elementAt(i).wt().doubleValue();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®¿é—®èŠ‚ç‚¹v</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">visit</span><span class="params">(<span class="keyword">int</span> v)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>( marked[v] )&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(<span class="string">&quot;this point has been visited!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        marked[v] = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†å’ŒèŠ‚ç‚¹vç›¸è¿æ¥çš„æœªè®¿é—®çš„å¦ä¸€ç«¯ç‚¹, å’Œä¸ä¹‹ç›¸è¿æ¥çš„è¾¹, æ”¾å…¥æœ€å°å †ä¸­</span></span><br><span class="line">        <span class="keyword">for</span>(Object item :G.adj(v))&#123;</span><br><span class="line">            Edge&lt;Weight&gt; e = (Edge&lt;Weight&gt;) item;</span><br><span class="line">            <span class="keyword">int</span> w = e.other(v);</span><br><span class="line">            <span class="comment">//å¦‚æœè¾¹çš„å¦ä¸€ç«¯ç‚¹æœªè¢«è®¿é—®</span></span><br><span class="line">            <span class="keyword">if</span>(!marked[w])&#123;</span><br><span class="line">                <span class="comment">//å¦‚æœä»æ²¡æœ‰è€ƒè™‘è¿‡è¿™ä¸ªç«¯ç‚¹ï¼Œç›´æ¥å°†è¿™ä¸ªç«¯ç‚¹å’Œä¸ä¹‹ç›¸è¿æ¥çš„è¾¹åŠ å…¥ç´¢å¼•å †ï¼Œå³å®ƒæ˜¯æ¨ªåˆ‡è¾¹</span></span><br><span class="line">                <span class="keyword">if</span>(edgeTo[w] == <span class="keyword">null</span>)&#123;</span><br><span class="line">                    edgeTo[w] = e;</span><br><span class="line">                    ipq.insert(w,e.wt());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å¦‚æœæ›¾ç»è€ƒè™‘è¿™ä¸ªç«¯ç‚¹,ä½†ç°åœ¨çš„è¾¹æ¯”ä¹‹å‰è€ƒè™‘çš„è¾¹æ›´çŸ­,åˆ™è¿›è¡Œæ›¿æ¢</span></span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span>(e.wt().compareTo(edgeTo[w].wt())&lt; <span class="number">0</span> )&#123;</span><br><span class="line">                    edgeTo[w] = e;</span><br><span class="line">                    ipq.change(w,e.wt());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    Vector&lt;Edge&lt;Weight&gt;&gt; mstEdges()&#123;</span><br><span class="line">        <span class="keyword">return</span> mst;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line">    <span class="function">Number <span class="title">result</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mstWeight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯• Prim</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String filename = <span class="string">&quot;testG1.txt&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> V = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        SparseWeightedGraph&lt;Double&gt; g = <span class="keyword">new</span> SparseWeightedGraph&lt;Double&gt;(V, <span class="keyword">false</span>);</span><br><span class="line">        ReadWeightedGraph readGraph = <span class="keyword">new</span> ReadWeightedGraph(g, filename);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test Prim MST</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Test Prim MST:&quot;</span>);</span><br><span class="line">        PrimMST&lt;Double&gt; primMST = <span class="keyword">new</span> PrimMST&lt;Double&gt;(g);</span><br><span class="line">        Vector&lt;Edge&lt;Double&gt;&gt; mst = primMST.mstEdges();</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; mst.size() ; i ++ )</span><br><span class="line">            System.out.println(mst.elementAt(i));</span><br><span class="line">        System.out.println(<span class="string">&quot;The MST weight is: &quot;</span> + primMST.result());</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/44.png" alt="æµ‹è¯•ç»“æœ"></p>
<h1 id="é™„å½•3"><a href="#é™„å½•3" class="headerlink" title="é™„å½•3"></a>é™„å½•3</h1><p><code>UnionFind.java</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// Union-Find</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UnionFind</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// rank[i]è¡¨ç¤ºä»¥iä¸ºæ ¹çš„é›†åˆæ‰€è¡¨ç¤ºçš„æ ‘çš„å±‚æ•°</span></span><br><span class="line">    <span class="comment">// åœ¨åç»­çš„ä»£ç ä¸­, æˆ‘ä»¬å¹¶ä¸ä¼šç»´æŠ¤rankçš„è¯­æ„, ä¹Ÿå°±æ˜¯rankçš„å€¼åœ¨è·¯å¾„å‹ç¼©çš„è¿‡ç¨‹ä¸­, æœ‰å¯èƒ½ä¸åœ¨æ˜¯æ ‘çš„å±‚æ•°å€¼</span></span><br><span class="line">    <span class="comment">// è¿™ä¹Ÿæ˜¯æˆ‘ä»¬çš„rankä¸å«heightæˆ–è€…depthçš„åŸå› , ä»–åªæ˜¯ä½œä¸ºæ¯”è¾ƒçš„ä¸€ä¸ªæ ‡å‡†</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] rank;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] parent; <span class="comment">// parent[i]è¡¨ç¤ºç¬¬iä¸ªå…ƒç´ æ‰€æŒ‡å‘çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> count;    <span class="comment">// æ•°æ®ä¸ªæ•°</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">UnionFind</span><span class="params">(<span class="keyword">int</span> count)</span></span>&#123;</span><br><span class="line">        rank = <span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line">        parent = <span class="keyword">new</span> <span class="keyword">int</span>[count];</span><br><span class="line">        <span class="keyword">this</span>.count = count;</span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–, æ¯ä¸€ä¸ªparent[i]æŒ‡å‘è‡ªå·±, è¡¨ç¤ºæ¯ä¸€ä¸ªå…ƒç´ è‡ªå·±è‡ªæˆä¸€ä¸ªé›†åˆ</span></span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; count ; i ++ )&#123;</span><br><span class="line">            parent[i] = i;</span><br><span class="line">            rank[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥æ‰¾è¿‡ç¨‹, æŸ¥æ‰¾å…ƒç´ pæ‰€å¯¹åº”çš„é›†åˆç¼–å·</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> p)</span></span>&#123;</span><br><span class="line">        <span class="keyword">assert</span>( p &gt;= <span class="number">0</span> &amp;&amp; p &lt; count );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// path compression 1</span></span><br><span class="line">        <span class="keyword">while</span>( p != parent[p] )&#123;</span><br><span class="line">            parent[p] = parent[parent[p]];</span><br><span class="line">            p = parent[p];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŸ¥çœ‹å…ƒç´ på’Œå…ƒç´ qæ˜¯å¦æ‰€å±ä¸€ä¸ªé›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">isConnected</span><span class="params">( <span class="keyword">int</span> p , <span class="keyword">int</span> q )</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> find(p) == find(q);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆå¹¶å…ƒç´ på’Œå…ƒç´ qæ‰€å±çš„é›†åˆ</span></span><br><span class="line">    <span class="comment">// O(h)å¤æ‚åº¦, hä¸ºæ ‘çš„é«˜åº¦</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">unionElements</span><span class="params">(<span class="keyword">int</span> p, <span class="keyword">int</span> q)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> pRoot = find(p);</span><br><span class="line">        <span class="keyword">int</span> qRoot = find(q);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>( pRoot == qRoot )</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®ä¸¤ä¸ªå…ƒç´ æ‰€åœ¨æ ‘çš„å…ƒç´ ä¸ªæ•°ä¸åŒåˆ¤æ–­åˆå¹¶æ–¹å‘</span></span><br><span class="line">        <span class="comment">// å°†å…ƒç´ ä¸ªæ•°å°‘çš„é›†åˆåˆå¹¶åˆ°å…ƒç´ ä¸ªæ•°å¤šçš„é›†åˆä¸Š</span></span><br><span class="line">        <span class="keyword">if</span>( rank[pRoot] &lt; rank[qRoot] )&#123;</span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>( rank[qRoot] &lt; rank[pRoot])&#123;</span><br><span class="line">            parent[qRoot] = pRoot;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">// rank[pRoot] == rank[qRoot]</span></span><br><span class="line">            parent[pRoot] = qRoot;</span><br><span class="line">            rank[qRoot] += <span class="number">1</span>;   <span class="comment">// æ­¤æ—¶, æˆ‘ç»´æŠ¤rankçš„å€¼</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>MinHeap.java</code>:<br>è§é™„å½•1</p>
<p><code>KruskalMST.java</code>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.awt.event.WindowEvent;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KruskalMST</span>&lt;<span class="title">Weight</span> <span class="keyword">extends</span> <span class="title">Number</span> &amp; <span class="title">Comparable</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Vector&lt;Edge&lt;Weight&gt;&gt; mst;    <span class="comment">//æœ€å°ç”Ÿæˆæ ‘æ‰€åŒ…å«çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    <span class="keyword">private</span> Number mstWeight;           <span class="comment">//æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ„é€ å‡½æ•°ï¼Œä½¿ç”¨Kruskalç®—æ³•è®¡ç®—graphçš„æœ€å°ç”Ÿæˆæ ‘</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">KruskalMST</span><span class="params">(WeightedGraph graph)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        mst  = <span class="keyword">new</span> Vector&lt;Edge&lt;Weight&gt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†æ‰€æœ‰çš„è¾¹è¿›è¡Œæ’åºï¼Œä½¿ç”¨å †æ’åºï¼Œå°†æ‰€æœ‰çš„è¾¹æ”¾å…¥ä¸€ä¸ªæœ€å°å †ä¸­</span></span><br><span class="line">        MinHeap&lt;Edge&lt;Weight&gt;&gt; pq = <span class="keyword">new</span> MinHeap&lt;Edge&lt;Weight&gt;&gt;(graph.E());</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; graph.V(); i ++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(Object item : graph.adj(i))&#123;</span><br><span class="line">                Edge&lt;Weight&gt; e = (Edge&lt;Weight&gt;) item;</span><br><span class="line">                <span class="keyword">if</span>( e.v() &lt;= e.w() )  <span class="comment">//é˜²æ­¢å­˜å…¥ä¸¤æ¬¡åŒä¸€æ¡è¾¹(æ¯”å¦‚è¾¹1-2å’Œè¾¹2-1ï¼Œåªå­˜å…¥è¾¹1-2)</span></span><br><span class="line">                    pq.insert(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªå¹¶æŸ¥é›†ï¼ŒæŸ¥çœ‹å·²ç»è®¿é—®çš„èŠ‚ç‚¹çš„è”é€šæƒ…å†µ</span></span><br><span class="line">        UnionFind uf = <span class="keyword">new</span> UnionFind(graph.V());</span><br><span class="line">        <span class="keyword">while</span> (!pq.isEmpty() &amp;&amp; mst.size() &lt; graph.V() - <span class="number">1</span>)&#123;<span class="comment">//pqä¸ä¸ºç©ºä¸”æœ€å°ç”Ÿæˆæ ‘çš„è¾¹æ•°å°äºV-1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//ä»æœ€å°å †ä¸­ä¾æ¬¡ä»å°åˆ°å¤§å–å‡ºæ‰€æœ‰çš„è¾¹</span></span><br><span class="line">            Edge&lt;Weight&gt; e = pq.extractMin();</span><br><span class="line">            <span class="comment">//å¦‚æœè¯¥è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹æ˜¯è”é€šçš„ï¼Œè¯´æ˜åŠ å…¥è¿™æ¡è¾¹å°†äº§ç”Ÿç¯ï¼Œæ‰”æ‰è¿™æ¡è¾¹</span></span><br><span class="line">            <span class="keyword">if</span>(uf.isConnected(e.v(),e.w()))</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å¦åˆ™ï¼Œå°†è¿™æ¡è¾¹åŠ å…¥æœ€å°ç”Ÿæˆæ ‘ï¼ŒåŒæ—¶æ ‡è®°è¾¹çš„ä¸¤ä¸ªç«¯ç‚¹è”é€š</span></span><br><span class="line">            mst.add(e);</span><br><span class="line">            uf.unionElements(e.v(),e.w());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¡ç®—æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line">        mstWeight = mst.elementAt(<span class="number">0</span>).wt();</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span> ; i &lt; mst.size() ; i ++)&#123;</span><br><span class="line">            mstWeight = mstWeight.doubleValue() + mst.elementAt(i).wt().doubleValue();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æ‰€æœ‰è¾¹</span></span><br><span class="line">    Vector&lt;Edge&lt;Weight&gt;&gt; mstEdges()&#123;</span><br><span class="line">        <span class="keyword">return</span> mst;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æœ€å°ç”Ÿæˆæ ‘çš„æƒå€¼</span></span><br><span class="line">    <span class="function">Number <span class="title">result</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mstWeight;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æµ‹è¯• Kruskal</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        String filename = <span class="string">&quot;testG1.txt&quot;</span>;</span><br><span class="line">        <span class="keyword">int</span> V = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">        SparseWeightedGraph&lt;Double&gt; g = <span class="keyword">new</span> SparseWeightedGraph&lt;Double&gt;(V, <span class="keyword">false</span>);</span><br><span class="line">        ReadWeightedGraph readGraph = <span class="keyword">new</span> ReadWeightedGraph(g, filename);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Test Kruskal</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Test Kruskal:&quot;</span>);</span><br><span class="line">        KruskalMST&lt;Double&gt; kruskalMST = <span class="keyword">new</span> KruskalMST&lt;Double&gt;(g);</span><br><span class="line">        Vector&lt;Edge&lt;Double&gt;&gt; mst = kruskalMST.mstEdges();</span><br><span class="line">        <span class="keyword">for</span>( <span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; mst.size() ; i ++ )</span><br><span class="line">            System.out.println(mst.elementAt(i));</span><br><span class="line">        System.out.println(<span class="string">&quot;The MST weight is: &quot;</span> + kruskalMST.result());</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ç»“æœ:<br><img src="%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91/43.png" alt="æµ‹è¯•ç»“æœ"></p>

  <p><a class="classtest-link" href="/tags/%E5%9B%BE/" rel="tag">å›¾</a>, <a class="classtest-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">æ•°æ®ç»“æ„</a> â€” Apr 5, 2019</p>
  


        </div>
        <div class="row mt-2">
  <h3>Search</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/homxuwang" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>