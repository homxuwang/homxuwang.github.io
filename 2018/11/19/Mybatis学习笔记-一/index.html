<!DOCTYPE html>
<html lang="zh-Hans">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <meta charset="utf-8">

  
  <title>MybatisÂ≠¶‰π†Á¨îËÆ∞-‰∏Ä</title>
  
  <link rel="canonical" href="http://homxuwang.github.io/2018/11/19/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/">
  
  <meta name="description" content="MybatisÊû∂ÊûÑÂõæ ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/*Navicat MySQL D">
  
  
  <meta name="author" content="homxuwang">
  
  
  
  <meta property="og:site_name" content="Homxu" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="MybatisÂ≠¶‰π†Á¨îËÆ∞-‰∏Ä" />
  
  <meta property="og:description" content="MybatisÊû∂ÊûÑÂõæ ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/*Navicat MySQL D">
  
  <meta property="og:url" content="http://homxuwang.github.io/2018/11/19/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="MybatisÂ≠¶‰π†Á¨îËÆ∞-‰∏Ä">
  
  <meta name="twitter:description" content="MybatisÊû∂ÊûÑÂõæ ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162/*Navicat MySQL D">
  
  
  
  
  <meta name="twitter:url" content="http://homxuwang.github.io/2018/11/19/Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/" />

  <!-- Mobile Specific Metas
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  ‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì‚Äì -->
  

  
  <script src="/js/pic.min.js" defer></script>
  

  
  <script src="/js/search.min.js" defer></script>
  

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">üåë</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>‚òÄÔ∏è</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi July.HX
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>MybatisÂ≠¶‰π†Á¨îËÆ∞-‰∏Ä</h2>

  <h1 id="MybatisÊû∂ÊûÑÂõæ"><a href="#MybatisÊû∂ÊûÑÂõæ" class="headerlink" title="MybatisÊû∂ÊûÑÂõæ"></a>MybatisÊû∂ÊûÑÂõæ</h1><p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/1.png" alt="MybatisÊû∂ÊûÑÂõæ"></p>
<h1 id="ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì"><a href="#ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì" class="headerlink" title="ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì"></a>ÂáÜÂ§áÊµãËØïÊï∞ÊçÆÂ∫ì</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Navicat MySQL Data Transfer</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Source Server         : localhost_3306</span></span><br><span class="line"><span class="comment">Source Server Version : 50521</span></span><br><span class="line"><span class="comment">Source Host           : localhost:3306</span></span><br><span class="line"><span class="comment">Source Database       : mybatis</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Target Server Type    : MYSQL</span></span><br><span class="line"><span class="comment">Target Server Version : 50521</span></span><br><span class="line"><span class="comment">File Encoding         : 65001</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Date: 2015-04-09 16:03:53</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">SET</span> FOREIGN_KEY_CHECKS<span class="operator">=</span><span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for `orders`</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `orders`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `orders` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `user_id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;‰∏ãÂçïÁî®Êà∑id&#x27;</span>,</span><br><span class="line">  `number` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ËÆ¢ÂçïÂè∑&#x27;</span>,</span><br><span class="line">  `createtime` datetime <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ÂàõÂª∫ËÆ¢ÂçïÊó∂Èó¥&#x27;</span>,</span><br><span class="line">  `note` <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Â§áÊ≥®&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`),</span><br><span class="line">  KEY `FK_orders_1` (`user_id`),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> `FK_orders_id` <span class="keyword">FOREIGN</span> KEY (`user_id`) <span class="keyword">REFERENCES</span> `<span class="keyword">user</span>` (`id`) <span class="keyword">ON</span> <span class="keyword">DELETE</span> <span class="keyword">NO</span> ACTION <span class="keyword">ON</span> UPDATE <span class="keyword">NO</span> ACTION</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">6</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of orders</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `orders` <span class="keyword">VALUES</span> (<span class="string">&#x27;3&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1000010&#x27;</span>, <span class="string">&#x27;2015-02-04 13:22:35&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `orders` <span class="keyword">VALUES</span> (<span class="string">&#x27;4&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1000011&#x27;</span>, <span class="string">&#x27;2015-02-03 13:22:41&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `orders` <span class="keyword">VALUES</span> (<span class="string">&#x27;5&#x27;</span>, <span class="string">&#x27;10&#x27;</span>, <span class="string">&#x27;1000012&#x27;</span>, <span class="string">&#x27;2015-02-12 16:13:23&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Table structure for `user`</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> IF <span class="keyword">EXISTS</span> `<span class="keyword">user</span>`;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> `<span class="keyword">user</span>` (</span><br><span class="line">  `id` <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> AUTO_INCREMENT,</span><br><span class="line">  `username` <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Áî®Êà∑ÂêçÁß∞&#x27;</span>,</span><br><span class="line">  `birthday` <span class="type">date</span> <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ÁîüÊó•&#x27;</span>,</span><br><span class="line">  `sex` <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;ÊÄßÂà´&#x27;</span>,</span><br><span class="line">  `address` <span class="type">varchar</span>(<span class="number">256</span>) <span class="keyword">DEFAULT</span> <span class="keyword">NULL</span> COMMENT <span class="string">&#x27;Âú∞ÂùÄ&#x27;</span>,</span><br><span class="line">  <span class="keyword">PRIMARY</span> KEY (`id`)</span><br><span class="line">) ENGINE<span class="operator">=</span>InnoDB AUTO_INCREMENT<span class="operator">=</span><span class="number">27</span> <span class="keyword">DEFAULT</span> CHARSET<span class="operator">=</span>utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="comment">-- Records of user</span></span><br><span class="line"><span class="comment">-- ----------------------------</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Áéã‰∫î&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;2&#x27;</span>, <span class="keyword">null</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;10&#x27;</span>, <span class="string">&#x27;Âº†‰∏â&#x27;</span>, <span class="string">&#x27;2014-07-10&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Âåó‰∫¨Â∏Ç&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;16&#x27;</span>, <span class="string">&#x27;Âº†Â∞èÊòé&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Ê≤≥ÂçóÈÉëÂ∑û&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;22&#x27;</span>, <span class="string">&#x27;ÈôàÂ∞èÊòé&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Ê≤≥ÂçóÈÉëÂ∑û&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;24&#x27;</span>, <span class="string">&#x27;Âº†‰∏â‰∏∞&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Ê≤≥ÂçóÈÉëÂ∑û&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;25&#x27;</span>, <span class="string">&#x27;ÈôàÂ∞èÊòé&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;Ê≤≥ÂçóÈÉëÂ∑û&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> `<span class="keyword">user</span>` <span class="keyword">VALUES</span> (<span class="string">&#x27;26&#x27;</span>, <span class="string">&#x27;Áéã‰∫î&#x27;</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<h1 id="ÁéØÂ¢ÉÊê≠Âª∫"><a href="#ÁéØÂ¢ÉÊê≠Âª∫" class="headerlink" title="ÁéØÂ¢ÉÊê≠Âª∫"></a>ÁéØÂ¢ÉÊê≠Âª∫</h1><p>ÂØºÂÖ•ÊâÄÈúÄ‰æùËµñÂåÖÔºö<br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/2.png" alt="‰æùËµñÂåÖ"></p>
<p>Ê†πÊçÆ1‰∏≠ÁöÑÊû∂ÊûÑÂõæÔºåÈ¶ñÂÖàÂáÜÂ§áÈÖçÁΩÆÊñá‰ª∂Ôºö<br><code>SqlMapConfig.xml</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta"><span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- Áî®‰∫éÈÖçÁΩÆÊï∞ÊçÆÂ∫ìËøûÊé•ÁéØÂ¢É  ÂíåspringÊï¥ÂêàÂêé environmentsÈÖçÁΩÆÂ∞ÜÂ∫üÈô§    --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- ‰ΩøÁî®jdbc‰∫ãÂä°ÁÆ°ÁêÜ --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span> /&gt;</span></span><br><span class="line">			<span class="comment">&lt;!-- Êï∞ÊçÆÂ∫ìËøûÊé•Ê±† --&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span></span></span><br><span class="line"><span class="tag">					<span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis&quot;</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">				<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;12345&quot;</span> /&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ÂÖ∂‰∏≠<code>environments</code>Ê†áÁ≠æÊòØÁî®Êù•ÈÖçÁΩÆÊï∞ÊçÆÂ∫ìËøûÊé•ÁéØÂ¢ÉÁöÑÔºåÂõ†‰∏∫ËøôÈáåÊòØÂçïÁã¨ÊòØmybatisÂ∑•Á®ãÔºåÊâÄ‰ª•Ë¶ÅËøõË°åÈÖçÁΩÆ„ÄÇÂêéÊúüÂú®Êï¥ÂêàSpringÂ∑•Á®ãÊó∂ÔºåÊï∞ÊçÆÂ∫ìÁöÑÈÖçÁΩÆÁî±SpringÊù•Ë¥üË¥£ÔºåÂèØ‰ª•Â∞ÜenvironmentsÊ†áÁ≠æÈô§Êéâ„ÄÇ</p>
<p>Âú®<code>src</code>ÂåÖ‰∏ãÂàõÂª∫<code>log4j.properties</code>.<br><code>log4j.properties</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># Global logging configuration</span><br><span class="line">log4j.rootLogger=DEBUG, stdout</span><br><span class="line"># Console output...</span><br><span class="line">log4j.appender.stdout=org.apache.log4j.ConsoleAppender</span><br><span class="line">log4j.appender.stdout.layout=org.apache.log4j.PatternLayout</span><br><span class="line">log4j.appender.stdout.layout.ConversionPattern=%5p [%t] - %m%n</span><br></pre></td></tr></table></figure>

<p>ÂàõÂª∫<code>user</code>Ë°®‰∏≠ÂØπÂ∫îÁöÑpojoÁ±ª.pojoÁ±ª‰Ωú‰∏∫mybatisËøõË°åsqlÊò†Â∞Ñ‰ΩøÁî®ÔºåpoÁ±ªÈÄöÂ∏∏‰∏éÊï∞ÊçÆÂ∫ìË°®ÂØπÂ∫î.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> my.study.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line">	<span class="keyword">private</span> Integer id;</span><br><span class="line">	<span class="keyword">private</span> String username;</span><br><span class="line">	<span class="keyword">private</span> String sex;</span><br><span class="line">	<span class="keyword">private</span> Date birthday;</span><br><span class="line">	<span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">//ÁúÅÁï•getÂíåsetÊñπÊ≥ï</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">&quot;User [id=&quot;</span> + id + <span class="string">&quot;, username=&quot;</span> + username + <span class="string">&quot;, sex=&quot;</span> + sex</span><br><span class="line">				+ <span class="string">&quot;, birthday=&quot;</span> + birthday + <span class="string">&quot;, address=&quot;</span> + address + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Âú®<code>my.study.mapper</code>ÂåÖ‰∏ãÂàõÂª∫<code>user.xml</code>:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta"><span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta"><span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- ‰π¶ÂÜôsqlËØ≠Âè• --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Âú®xml‰∏≠ÂºïÂÖ•Á∫¶ÊùüÂêéÔºåÂÖ∂Ê†πÊ†áÁ≠æÂ∞±ÊòØ<code>&lt;mapper&gt;&lt;/mapper&gt;</code>,Áî®Êù•Âú®ÂÖ∂‰∏≠‰π¶ÂÜôsqlËØ≠Âè•„ÄÇ</p>
<p>Âú®ËøôÈáåÂÆö‰πâ‰∫Ü<code>user.xml</code>Êñá‰ª∂ÂêéÔºåÊ†πÊçÆÊû∂ÊûÑÂõæÔºåÈúÄË¶ÅÂíåÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂ÁªìÂêàÔºåÊâÄ‰ª•Ë¶ÅÂú®Ê†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂‰∏≠‰ΩøÁî®<code>&lt;mappers&gt;&lt;/mappers&gt;</code>Ê†áÁ≠æÔºö</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- MapperÁöÑ‰ΩçÁΩÆ  Mapper.xml ÂÜôSqlËØ≠Âè•ÁöÑÊñá‰ª∂ÁöÑ‰ΩçÁΩÆ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;my/study/mapper/User.xml&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ËøôÊ†∑ÂáÜÂ§áÂ∑•‰ΩúÂ∞±Âü∫Êú¨ÂÆåÊàê‰∫ÜÔºåÊé•‰∏ãÊù•Â∞±Ë¶ÅËøõË°åÊû∂ÊûÑ‰∏≠ÁöÑÁ¨¨‰∫åÈÉ®ÔºåÂàõÂª∫Â∑•ÂéÇÂíåsessionÂπ∂ËøõË°åÊµãËØï„ÄÇ</p>
<h1 id="Êìç‰ΩúÊï∞ÊçÆÂ∫ì"><a href="#Êìç‰ΩúÊï∞ÊçÆÂ∫ì" class="headerlink" title="Êìç‰ΩúÊï∞ÊçÆÂ∫ì"></a>Êìç‰ΩúÊï∞ÊçÆÂ∫ì</h1><h2 id="Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰π¶ÂÜôsql"><a href="#Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰π¶ÂÜôsql" class="headerlink" title="Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰π¶ÂÜôsql"></a>Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰π¶ÂÜôsql</h2><p>Âú®<code>User.xml</code>ÈÖçÁΩÆÊñá‰ª∂‰∏≠‰π¶ÂÜôÊü•ËØ¢sql:</p>
<p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/3.png" alt="Ê†áÁ≠æÂàóË°®"><br>ÂÖ∂‰∏≠<code>&lt;&gt;cache</code>Âíå<code>&lt;&gt;cache-ref</code>Ë°®Á§∫ÁºìÂ≠ò,ÂÆÉ‰ª¨Âíå<code>&lt;&gt;parameterMap</code>ÈÉΩÂæàÂ∞ëÁî®Âà∞.<code>&lt;&gt;sql</code>Ë°®Á§∫sqlÁâáÊÆµ,<code>&lt;&gt;result</code>Ë°®Á§∫ÊâãÂä®Êò†Â∞Ñ„ÄÇÂâ©‰∏ãÁöÑÂ¢ûÂà†ÊîπÊü•ÂíåÊõ¥Êñ∞„ÄÇ</p>
<p>‰π¶ÂÜôÊü•ËØ¢sqlÔºö</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Êü•ËØ¢Áî®Êà∑ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;my.study.pojo.User&quot;</span>&gt;</span></span><br><span class="line">		select * from user where id = #&#123;v&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Ê†áÁ≠æ‰∏≠ÁöÑ<code>id</code>Ë°®Á§∫ËøôÊù°sqlËØ≠Âè•Âú®ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÂîØ‰∏ÄÊ†áËØÜ;<br><code>parameterType</code>Ë°®Á§∫‰º†ÂèÇÁöÑÁ±ªÂûã;<br><code>resultType</code>Ë°®Á§∫Ëá™Âä®Êò†Â∞ÑÊü•ËØ¢Âà∞ÁöÑÁªìÊûúÔºåÂ°´ÂÜôpojoÁöÑÂÖ®Ë∑ØÂæÑ.Ëá™Âä®Êò†Â∞ÑË¶ÅÊ±ÇÊâÄÂàõÂª∫ÁöÑÁ±ªË¶ÅÂíåÊï∞ÊçÆÂ∫ìË°®‰∏≠ÁöÑÂêÑ‰∏™Â≠óÊÆµÂíåÁ±ªÂûãÁõ∏ÂØπÂ∫î,Â¶ÇÊûú‰∏çÂØπÂ∫îÂàôÈúÄË¶ÅÊâãÂä®Êò†Â∞Ñ.<br><code>#&#123;&#125;</code>Ë°®Á§∫Âç†‰ΩçÁ¨¶ÔºåÁ±ª‰ºº‰∫éjdbc‰∏≠ÁöÑ?,Â§ßÊã¨Âè∑‰∏≠ÁöÑÂÄºÂèØ‰ª•Èöè‰æøÂÜô.</p>
<p>Â¶ÇÊûúÊúâÂè¶‰∏Ä‰∏™ÈÖçÁΩÆÊñá‰ª∂‰∏≠ÁöÑÊü•ËØ¢ËØ≠Âè•ÁöÑidÂíåÂ∑≤Â≠òÂú®ÁöÑÈáçÂ§çÔºåËøôÊó∂ÂÄôÂèØ‰ª•Âú®<code>&lt;mapper&gt;</code>Ê∑ªÂä†<code>namespace=&quot;&quot;</code>,<code>namespace</code>Ë°®Á§∫ÂëΩÂêçÁ©∫Èó¥ÔºåÁî®‰∫éÈöîÁ¶ªsql,ÈÅøÂÖçÂèëÁîüËøôÁßçÊÉÖÂÜµ.<br>ÊØîÂ¶Ç‰øÆÊîπ‰∏∫:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;user&quot;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ËøôÊó∂ÂÄôÂèØ‰ª•‰ΩøÁî®<code>user.findUserById</code>ËÆøÈóÆËøô‰∏™sql.</p>
<h2 id="‰π¶ÂÜôÊµãËØïÁ±ª"><a href="#‰π¶ÂÜôÊµãËØïÁ±ª" class="headerlink" title="‰π¶ÂÜôÊµãËØïÁ±ª"></a>‰π¶ÂÜôÊµãËØïÁ±ª</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> my.study.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> my.study.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//1.Âä†ËΩΩÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></span><br><span class="line">		String resource = <span class="string">&quot;sqlMapConfig.xml&quot;</span>;</span><br><span class="line">		InputStream in = Resources.getResourceAsStream(resource);</span><br><span class="line">		<span class="comment">//2.ÂàõÂª∫SqlSessionFactory</span></span><br><span class="line">		SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">		<span class="comment">//3.ÂàõÂª∫SqlSession</span></span><br><span class="line">		SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">		<span class="comment">//4.ÊâßË°åSqlËØ≠Âè•</span></span><br><span class="line">		User user = sqlSession.selectOne(<span class="string">&quot;user.findUserById&quot;</span>, <span class="number">10</span>);</span><br><span class="line">		System.out.println(user);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/4.png" alt="ÂèÇÊï∞"><br>ËøôÈáå<code> sqlSession.selectOne()</code>ÊñπÊ≥ïÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞Â∞±ÊòØ‰º†ÂÖ•<code>&lt;mapper&gt;</code>ÁöÑnamespace+sqlËØ≠Âè•ÁöÑid;Á¨¨‰∫å‰∏™Â∞±ÊòØ‰º†ÂÖ•Ë¶ÅËøõË°åÊü•ËØ¢ÁöÑÂèÇÊï∞(‰πüÂ∞±ÊòØÂç†‰ΩçÁ¨¶‰ΩçÁΩÆÁöÑÂÄº);</p>
<p>ÊµãËØïÁªìÊûú:<br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/5.png" alt="ÊµãËØïÁªìÊûú"><br>Âõ†‰∏∫Âä†ÂÖ•‰∫ÜlogÊó•ÂøóÔºåËøôÈáå‰ºöÊâìÂç∞Âá∫ÂêÑ‰∏™‰ø°ÊÅØ</p>
<h2 id="ÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢"><a href="#ÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢" class="headerlink" title="ÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢"></a>ÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢</h2><p>‰π¶ÂÜôsqlËØ≠Âè•:</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Ê®°Á≥äÊü•ËØ¢ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUserByUsername&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;String&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;my.study.pojo.User&quot;</span>&gt;</span></span><br><span class="line">		select * from user where username like &#x27;%$&#123;value&#125;%&#x27;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Ê≥®ÊÑèÔºåËøôÈáåÁöÑÊ®°Á≥äÊü•ËØ¢‰∏≠‰∏çÊòØÁî®Âç†‰ΩçÁ¨¶<code>#&#123;&#125;</code>ÔºåËÄåÊòØ‰ΩøÁî®<code>$&#123;&#125;</code>„ÄÇ<br>Á±ªÊØîjdbc‰∏≠ÁöÑÂç†‰ΩçÁ¨¶Ôºå<code>#&#123;&#125;</code>Áõ∏ÂΩì‰∫é<code>?</code><br>ËÄåÂú®ÈúÄË¶Å‰ΩøÁî®Â≠óÁ¨¶‰∏≤ÊãºÊé•ÂäüËÉΩÊó∂Ôºå‰ΩøÁî®<code>$&#123;&#125;</code>.Âπ∂‰∏îÂÖ∂‰∏≠Ë¶ÅÂ°´ÂÜô<code>value</code>,ËÄå<code>#&#123;&#125;</code>ÂàôÊ≤°ÊúâËøôÁßçÈôêÂà∂„ÄÇ<br>Âç†‰ΩçÁ¨¶ÂèØ‰ª•Èò≤Ê≠¢sqlÊ≥®ÂÖ•ÔºåËÄåÂ≠óÁ¨¶‰∏≤ÊãºÊé•‰∏çËÉΩÈò≤Ê≠¢sqlÊ≥®ÂÖ•Ôºå<code>#&#123;&#125;</code>Âíå<code>$&#123;&#125;</code>‰πüÊòØ‰∏Ä‰∏™ÈÅìÁêÜ„ÄÇ<br>Âú®ÊµãËØïÁ±ª‰∏≠Ê∑ªÂä†ÊµãËØïÊñπÊ≥ïÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ÂÆûÁé∞Ê®°Á≥äÊü•ËØ¢</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//1.Âä†ËΩΩÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></span><br><span class="line">		String resource = <span class="string">&quot;sqlMapConfig.xml&quot;</span>;</span><br><span class="line">		InputStream in = Resources.getResourceAsStream(resource);</span><br><span class="line">		<span class="comment">//2.ÂàõÂª∫SqlSessionFactory</span></span><br><span class="line">		SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">		<span class="comment">//3.ÂàõÂª∫SqlSession</span></span><br><span class="line">		SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">		<span class="comment">//4.ÊâßË°åSqlËØ≠Âè•</span></span><br><span class="line">		List&lt;User&gt; users = sqlSession.selectList(<span class="string">&quot;user.findUserByUsername&quot;</span>, <span class="string">&quot;‰∫î&quot;</span>);</span><br><span class="line">		<span class="keyword">for</span>(User user2:users) &#123;</span><br><span class="line">			System.out.println(user2);</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>Âõ†‰∏∫Ê®°Á≥äÊü•ËØ¢Êü•Âá∫Êù•ÁöÑÂèØËÉΩÊúâÂæàÂ§öÁªìÊûúÔºåÊâÄ‰ª•Áî®<code>List&lt;&gt;</code>.<br>ÊµãËØïÁªìÊûú:<br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/6.png" alt="ÊµãËØïÁªìÊûú"></p>
<p>‰∏äÈù¢Êèê‰∫ÜËøôÊ†∑‰∏çËÉΩÈò≤Ê≠¢sqlÊ≥®ÂÖ•ÔºåÊâÄ‰ª•ÂèØ‰ª•ËøôÊ†∑ÂÜôselectÊ†áÁ≠æ‰∏≠ÁöÑsqlËØ≠Âè•</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select * from user where username like &quot;%&quot;#&#123;v&#125;&quot;%&quot;</span><br></pre></td></tr></table></figure>
<p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/7.png" alt="ÊµãËØïÁªìÊûú"><br>ÂèØ‰ª•ÁúãÂà∞ÊâìÂç∞ÁªìÊûú‰∏≠ÊàêÂäüÂá∫Áé∞‰∫ÜÂç†‰ΩçÁ¨¶ÔºåÂÖ∂ÂÆûÊúÄÁªàÁöÑsqlËØ≠Âè•Áõ∏ÂΩì‰∫é</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> username <span class="keyword">like</span> &quot;%&quot;<span class="string">&#x27;‰∫î&#x27;</span>&quot;%&quot; </span><br></pre></td></tr></table></figure>
<p>ËøôÁßçÂÜôÊ≥ïÊòØÊ≠£Á°ÆÁöÑÔºåÂè™ÊòØÂπ≥Êó∂ÂæàÂ∞ëËøô‰πàÁî®</p>
<h2 id="Êñ∞Â¢ûÊï∞ÊçÆ"><a href="#Êñ∞Â¢ûÊï∞ÊçÆ" class="headerlink" title="Êñ∞Â¢ûÊï∞ÊçÆ"></a>Êñ∞Â¢ûÊï∞ÊçÆ</h2><p>‰π¶ÂÜôsqlËØ≠Âè•</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Êñ∞Â¢ûÁî®Êà∑ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertUser&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;my.study.pojo.User&quot;</span>&gt;</span></span><br><span class="line">		insert into user (username,birthday,address,sex)</span><br><span class="line">		values</span><br><span class="line">		(#&#123;username&#125;,#&#123;birthday&#125;,#&#123;address&#125;,#&#123;sex&#125;)</span><br><span class="line">	<span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>#&#123;&#125;</code>‰∏≠ÁöÑÂèÇÊï∞Ë¶ÅÂíå<code>User.java</code>Á±ª‰∏≠ÁöÑÂ≠óÊÆµÂØπÂ∫îÔºåËøôÊ†∑ÊâçËÉΩÁü•ÈÅì‰º†ÂèÇÊòØÂíåÂì™‰∏™Â≠óÊÆµÂØπÂ∫î</p>
<p>ÊµãËØïÁ±ª:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Êñ∞Â¢ûÁî®Êà∑</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInsert</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//1.Âä†ËΩΩÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></span><br><span class="line">		String resource = <span class="string">&quot;sqlMapConfig.xml&quot;</span>;</span><br><span class="line">		InputStream in = Resources.getResourceAsStream(resource);</span><br><span class="line">		<span class="comment">//2.ÂàõÂª∫SqlSessionFactory</span></span><br><span class="line">		SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">		<span class="comment">//3.ÂàõÂª∫SqlSession</span></span><br><span class="line">		SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">		<span class="comment">//4.ÊâßË°åSqlËØ≠Âè•</span></span><br><span class="line">		User u = <span class="keyword">new</span> User();</span><br><span class="line">		u.setUsername(<span class="string">&quot;ÊùéÈõ∑&quot;</span>);</span><br><span class="line">		u.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line">		u.setAddress(<span class="string">&quot;ÁÅ´Êòü&quot;</span>);</span><br><span class="line">		u.setSex(<span class="string">&quot;Áî∑&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> i =sqlSession.insert(<span class="string">&quot;user.insertUser&quot;</span>, u);	</span><br><span class="line">    sqlSession.commit();	</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p>ÂÖ∂‰∏≠insertÁöÑËøîÂõûÂÄº‰∏∫intÂûãÔºåË°®Á§∫ÂΩ±ÂìçÁöÑË°åÊï∞.Ê≥®ÊÑèÊúÄÂêéË¶ÅÊèê‰∫§‰∫ãÂä°ÊâçËÉΩÊàêÂäüÊèíÂÖ•.<br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/8.png" alt="ÊµãËØïÁªìÊûú"></p>
<h2 id="Êñ∞Â¢ûÊï∞ÊçÆÂêéËøîÂõû‰∏ªÈîÆID"><a href="#Êñ∞Â¢ûÊï∞ÊçÆÂêéËøîÂõû‰∏ªÈîÆID" class="headerlink" title="Êñ∞Â¢ûÊï∞ÊçÆÂêéËøîÂõû‰∏ªÈîÆID"></a>Êñ∞Â¢ûÊï∞ÊçÆÂêéËøîÂõû‰∏ªÈîÆID</h2><p>Â¶ÇÊûúÊÉ≥ÂÆûÁé∞Âú®Êñ∞Â¢ûÂÆåÁî®Êà∑ÂêéÁ´ãÂàªËøîÂõûËøôÊù°Êñ∞Â¢ûÊï∞ÊçÆÁöÑ‰∏ªÈîÆÔºåÂàôÈúÄË¶ÅÂú®<code>&lt;insert&gt;</code>ËØ≠Âè•‰∏≠ÂÜçÂµåÂ•ó‰∏ÄÂ±Ç<code>&lt;selectKey&gt;</code>Áî®Êù•Êü•ËØ¢‰∏ªÈîÆ.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">selectKey</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Integer&quot;</span> <span class="attr">order</span>=<span class="string">&quot;AFTER&quot;</span>&gt;</span></span><br><span class="line">	select LAST_INSERT_ID()</span><br><span class="line"><span class="tag">&lt;/<span class="name">selectKey</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>keyProperty</code>Ë°®Á§∫ËøîÂõûÂÄº‰∏∫<code>User</code>ÁöÑ<code>id</code>Â±ûÊÄßÔºå<code>resultType</code>Ë°®Á§∫Á±ªÂûãÊòØIntegerÂûã;<br>Ê≥®ÊÑèÔºöÂú®sql‰∏≠ÔºåÂ¶ÇÊûú‰∏ªÈîÆÊòØËá™Â¢ûÁöÑintÂûãÔºåÈÇ£‰πà‰∏ªÈîÆÊòØÂú®Êï∞ÊçÆÊèíÂÖ•ÂÆåÊàêÂêéÂÜçÁîüÊàê‰∏ªÈîÆ;Â¶ÇÊûú‰∏çÊòØËá™Â¢ûÁ±ªÂûãÔºåÊØîÂ¶ÇÂ¶ÇÊûúÊòØvarcharÁ±ªÂûãÔºåÂàô‰ºöÂÖàÊèíÂÖ•‰∏ªÈîÆÔºåÂÜçÊèíÂÖ•Êï∞ÊçÆ„ÄÇ<br><code>order</code>Ë°®Á§∫ÊâßË°åÈ°∫Â∫è,ÊâÄ‰ª•ËøôÈáåË¶ÅÁî®<code>AFTER</code><br>ÂÖ∂‰∏≠</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> LAST_INSERT_ID()</span><br></pre></td></tr></table></figure>
<p>ÊòØÁî±sqlÊèê‰æõÁöÑÊü•ËØ¢ËØ≠Âè•ÔºåÂÆÉË∑üÂú®insertËØ≠Âè•ÂêéÈù¢ÁöÑËØùÔºå‰ºöËøîÂõûÂàöÊèíÂÖ•ÁöÑÊï∞ÊçÆÁöÑ‰∏ªÈîÆ,ÊØîÂ¶Ç:</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> ....</span><br><span class="line"><span class="keyword">select</span> LAST_INSERT_ID()</span><br></pre></td></tr></table></figure>
<p>Âú®‰∏äÈù¢ÁöÑÊµãËØïÁ±ª‰∏≠Ê∑ªÂä†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(u.getId());</span><br></pre></td></tr></table></figure>
<p>Âç≥ÂèØÊü•ÁúãÂà∞Â∑≤ÁªèËé∑ÂèñÂà∞ÊúÄÊñ∞ÊèíÂÖ•ÁöÑ‰∏ªÈîÆID<br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/9.png" alt="ÊµãËØïÁªìÊûú"></p>
<h2 id="‰øÆÊîπ-Êõ¥Êñ∞Êï∞ÊçÆ"><a href="#‰øÆÊîπ-Êõ¥Êñ∞Êï∞ÊçÆ" class="headerlink" title="‰øÆÊîπ/Êõ¥Êñ∞Êï∞ÊçÆ"></a>‰øÆÊîπ/Êõ¥Êñ∞Êï∞ÊçÆ</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Êõ¥Êñ∞ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;my.study.pojo.User&quot;</span>&gt;</span></span><br><span class="line">		update user</span><br><span class="line">		set username = #&#123;username&#125;,sex =#&#123;sex&#125;,address = #&#123;address&#125;,birthday = #&#123;birthday&#125;</span><br><span class="line">		where id =#&#123;id&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Êõ¥Êñ∞Áî®Êà∑</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		<span class="comment">//1.Âä†ËΩΩÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></span><br><span class="line">		String resource = <span class="string">&quot;sqlMapConfig.xml&quot;</span>;</span><br><span class="line">		InputStream in = Resources.getResourceAsStream(resource);</span><br><span class="line">		<span class="comment">//2.ÂàõÂª∫SqlSessionFactory</span></span><br><span class="line">		SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">		<span class="comment">//3.ÂàõÂª∫SqlSession</span></span><br><span class="line">		SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">		<span class="comment">//4.ÊâßË°åSqlËØ≠Âè•</span></span><br><span class="line">		User u = <span class="keyword">new</span> User();</span><br><span class="line">		u.setId(<span class="number">29</span>);</span><br><span class="line">		u.setUsername(<span class="string">&quot;ÊùéÈõ∑update&quot;</span>);</span><br><span class="line">		u.setBirthday(<span class="keyword">new</span> Date());</span><br><span class="line">		u.setAddress(<span class="string">&quot;ÁÅ´Êòüupdate&quot;</span>);</span><br><span class="line">		u.setSex(<span class="string">&quot;2&quot;</span>);</span><br><span class="line">		<span class="keyword">int</span> i =sqlSession.update(<span class="string">&quot;user.updateUserById&quot;</span>, u);</span><br><span class="line">		sqlSession.commit();</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>
<p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/10.png" alt="ÊµãËØïÁªìÊûú"><br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/11.png" alt="ÊµãËØïÁªìÊûú"></p>
<h2 id="Âà†Èô§"><a href="#Âà†Èô§" class="headerlink" title="Âà†Èô§"></a>Âà†Èô§</h2><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Âà†Èô§ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteUserById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span>&gt;</span></span><br><span class="line">		delete from user</span><br><span class="line">		where id = #&#123;id&#125;</span><br><span class="line">	<span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Âà†Èô§Áî®Êà∑</span></span><br><span class="line">		<span class="meta">@Test</span></span><br><span class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testdelete</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">			<span class="comment">//1.Âä†ËΩΩÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></span><br><span class="line">			String resource = <span class="string">&quot;sqlMapConfig.xml&quot;</span>;</span><br><span class="line">			InputStream in = Resources.getResourceAsStream(resource);</span><br><span class="line">			<span class="comment">//2.ÂàõÂª∫SqlSessionFactory</span></span><br><span class="line">			SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">			<span class="comment">//3.ÂàõÂª∫SqlSession</span></span><br><span class="line">			SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">			<span class="comment">//4.ÊâßË°åSqlËØ≠Âè•			</span></span><br><span class="line">			<span class="keyword">int</span> d = sqlSession.delete(<span class="string">&quot;user.deleteUserById&quot;</span>, <span class="number">29</span>);</span><br><span class="line">			sqlSession.commit();</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>
<p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/12.png" alt="ÊµãËØïÁªìÊûú"><br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/13.png" alt="ÊµãËØïÁªìÊûú"></p>
<h1 id="MapperÂä®ÊÄÅ‰ª£ÁêÜÂºÄÂèë"><a href="#MapperÂä®ÊÄÅ‰ª£ÁêÜÂºÄÂèë" class="headerlink" title="MapperÂä®ÊÄÅ‰ª£ÁêÜÂºÄÂèë"></a>MapperÂä®ÊÄÅ‰ª£ÁêÜÂºÄÂèë</h1><p>‰ΩøÁî®Âä®ÊÄÅ‰ª£ÁêÜÊñπÂºèÔºåÂä®ÊÄÅÁîüÊàê‰ª£Á†ÅÔºåÈÅøÂÖç‰π¶ÂÜôÈáçÂ§ç‰ª£Á†Å.<br>ÂéüÂßãDaoÂºÄÂèë‰∏≠Â≠òÂú®‰ª•‰∏ãÈóÆÈ¢òÔºö<br>DaoÊñπÊ≥ï‰ΩìÂ≠òÂú®ÈáçÂ§ç‰ª£Á†ÅÔºöÈÄöËøáSqlSessionFactoryÂàõÂª∫SqlSessionÔºåË∞ÉÁî®SqlSessionÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÊñπÊ≥ï<br>Ë∞ÉÁî®sqlSessionÁöÑÊï∞ÊçÆÂ∫ìÊìç‰ΩúÊñπÊ≥ïÈúÄË¶ÅÊåáÂÆöstatementÁöÑidÔºåËøôÈáåÂ≠òÂú®Á°¨ÁºñÁ†ÅÔºå‰∏ç‰æø‰∫éÂºÄÂèëÁª¥Êä§„ÄÇ</p>
<p>MapperÊé•Âè£ÂºÄÂèëÊñπÊ≥ïÂè™ÈúÄË¶ÅÁ®ãÂ∫èÂëòÁºñÂÜôMapperÊé•Âè£ÔºàÁõ∏ÂΩì‰∫éDaoÊé•Âè£ÔºâÔºåÁî±MybatisÊ°ÜÊû∂Ê†πÊçÆÊé•Âè£ÂÆö‰πâÂàõÂª∫Êé•Âè£ÁöÑÂä®ÊÄÅ‰ª£ÁêÜÂØπË±°„ÄÇ</p>
<p>MapperÊé•Âè£ÂºÄÂèëÈúÄË¶ÅÈÅµÂæ™‰ª•‰∏ãËßÑËåÉÔºö<br>1„ÄÅMapper.xmlÊñá‰ª∂‰∏≠ÁöÑnamespace‰∏émapperÊé•Âè£ÁöÑÁ±ªË∑ØÂæÑÁõ∏Âêå„ÄÇ<br>2„ÄÅMapperÊé•Âè£ÊñπÊ≥ïÂêçÂíåMapper.xml‰∏≠ÂÆö‰πâÁöÑÊØè‰∏™statementÁöÑidÁõ∏Âêå<br>3„ÄÅMapperÊé•Âè£ÊñπÊ≥ïÁöÑËæìÂÖ•ÂèÇÊï∞Á±ªÂûãÂíåmapper.xml‰∏≠ÂÆö‰πâÁöÑÊØè‰∏™sql ÁöÑparameterTypeÁöÑÁ±ªÂûãÁõ∏Âêå<br>4„ÄÅMapperÊé•Âè£ÊñπÊ≥ïÁöÑËæìÂá∫ÂèÇÊï∞Á±ªÂûãÂíåmapper.xml‰∏≠ÂÆö‰πâÁöÑÊØè‰∏™sqlÁöÑresultTypeÁöÑÁ±ªÂûãÁõ∏Âêå</p>
<p>ËøôÈáåÂÆö‰πâ‰∏Ä‰∏™<code>UserMapper</code>Êé•Âè£:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> my.study.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> my.study.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">	<span class="comment">//ÈÅµÂæ™Âõõ‰∏™ÂéüÂàô</span></span><br><span class="line">	<span class="comment">//Êé•Âè£ÊñπÊ≥ïÂêç == User.xml ‰∏≠ÁöÑ idÂêç</span></span><br><span class="line">	<span class="comment">//ËøîÂõûÂÄºÁ±ªÂûã ‰∏é User.xmlÊñá‰ª∂‰∏≠ËøîÂõûÂÄºÁöÑÁ±ªÂûã‰∏ÄËá¥</span></span><br><span class="line">	<span class="comment">//ÊñπÊ≥ïÁöÑÂÖ•ÂèÇÁ±ªÂûã‰∏éUser.xml‰∏≠ÂÖ•ÂèÇÁöÑÁ±ªÂûã‰∏ÄËá¥</span></span><br><span class="line">	<span class="comment">//mapperÊ†áÁ≠æÁöÑÂëΩÂêçÁ©∫Èó¥ÁªëÂÆöÊ≠§Êé•Âè£</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">findUserById</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ÂëΩÂêçÁ©∫Èó¥‰∏éÊé•Âè£ÁªëÂÆöÔºö<br><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/14.png" alt="ÂëΩÂêçÁ©∫Èó¥‰∏éÊé•Âè£ÁªëÂÆö"></p>
<p>‰π¶ÂÜôÊµãËØïÁ±ªÔºö</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> my.study.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> my.study.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> my.study.pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MybatisMapperTest</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">		<span class="comment">//1.Âä†ËΩΩÊ†∏ÂøÉÈÖçÁΩÆÊñá‰ª∂</span></span><br><span class="line">		String resource = <span class="string">&quot;sqlMapConfig.xml&quot;</span>;</span><br><span class="line">		InputStream in = Resources.getResourceAsStream(resource);</span><br><span class="line">		<span class="comment">//2.ÂàõÂª∫SqlSessionFactory</span></span><br><span class="line">		SqlSessionFactory sqlSessionFactory = <span class="keyword">new</span> SqlSessionFactoryBuilder().build(in);</span><br><span class="line">		<span class="comment">//3.ÂàõÂª∫SqlSession</span></span><br><span class="line">		SqlSession sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">		<span class="comment">//4.SqlSessionÊ†πÊçÆÊé•Âè£ÁîüÊàê‰∏Ä‰∏™ÂÆûÁé∞Á±ª</span></span><br><span class="line">		UserMapper mapper = sqlSession.getMapper(UserMapper.class);</span><br><span class="line">		</span><br><span class="line">		User user = mapper.findUserById(<span class="number">10</span>);</span><br><span class="line">		System.out.println(user);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="Mybatis%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E4%B8%80/15.png" alt="ÊµãËØïÁªìÊûú"></p>
<p>ËøôÊ†∑‰ΩøÁî®Âä®ÊÄÅÂºÄÂèëÔºåÂè™ÈúÄË¶Å‰π¶ÂÜô‰∏Ä‰∏™Êé•Âè£Âíå‰∏Ä‰∏™mapper.xmlÈÖçÁΩÆÊñá‰ª∂Â∞±ÂèØ‰ª•‰∫Ü.</p>
<h1 id="MybatisÁõ∏ÊØî‰∫éJDBCÁöÑ‰ºòÁÇπ"><a href="#MybatisÁõ∏ÊØî‰∫éJDBCÁöÑ‰ºòÁÇπ" class="headerlink" title="MybatisÁõ∏ÊØî‰∫éJDBCÁöÑ‰ºòÁÇπ"></a>MybatisÁõ∏ÊØî‰∫éJDBCÁöÑ‰ºòÁÇπ</h1><p>1„ÄÅÊï∞ÊçÆÂ∫ìËøûÊé•ÂàõÂª∫„ÄÅÈáäÊîæÈ¢ëÁπÅÈÄ†ÊàêÁ≥ªÁªüËµÑÊ∫êÊµ™Ë¥π‰ªéËÄåÂΩ±ÂìçÁ≥ªÁªüÊÄßËÉΩÔºåÂ¶ÇÊûú‰ΩøÁî®Êï∞ÊçÆÂ∫ìËøûÊé•Ê±†ÂèØËß£ÂÜ≥Ê≠§ÈóÆÈ¢ò„ÄÇ<br>Ëß£ÂÜ≥ÔºöÂú®SqlMapConfig.xml‰∏≠ÈÖçÁΩÆÊï∞ÊçÆËøûÊé•Ê±†Ôºå‰ΩøÁî®ËøûÊé•Ê±†ÁÆ°ÁêÜÊï∞ÊçÆÂ∫ìÈìæÊé•„ÄÇ<br>2„ÄÅSqlËØ≠Âè•ÂÜôÂú®‰ª£Á†Å‰∏≠ÈÄ†Êàê‰ª£Á†Å‰∏çÊòìÁª¥Êä§ÔºåÂÆûÈôÖÂ∫îÁî®sqlÂèòÂåñÁöÑÂèØËÉΩËæÉÂ§ßÔºåsqlÂèòÂä®ÈúÄË¶ÅÊîπÂèòjava‰ª£Á†Å„ÄÇ<br>Ëß£ÂÜ≥ÔºöÂ∞ÜSqlËØ≠Âè•ÈÖçÁΩÆÂú®XXXXmapper.xmlÊñá‰ª∂‰∏≠‰∏éjava‰ª£Á†ÅÂàÜÁ¶ª„ÄÇ<br>3„ÄÅÂêësqlËØ≠Âè•‰º†ÂèÇÊï∞È∫ªÁÉ¶ÔºåÂõ†‰∏∫sqlËØ≠Âè•ÁöÑwhereÊù°‰ª∂‰∏ç‰∏ÄÂÆöÔºåÂèØËÉΩÂ§ö‰πüÂèØËÉΩÂ∞ëÔºåÂç†‰ΩçÁ¨¶ÈúÄË¶ÅÂíåÂèÇÊï∞‰∏Ä‰∏ÄÂØπÂ∫î„ÄÇ<br>Ëß£ÂÜ≥ÔºöMybatisËá™Âä®Â∞ÜjavaÂØπË±°Êò†Â∞ÑËá≥sqlËØ≠Âè•ÔºåÈÄöËøástatement‰∏≠ÁöÑparameterTypeÂÆö‰πâËæìÂÖ•ÂèÇÊï∞ÁöÑÁ±ªÂûã„ÄÇ<br>4„ÄÅÂØπÁªìÊûúÈõÜËß£ÊûêÈ∫ªÁÉ¶ÔºåsqlÂèòÂåñÂØºËá¥Ëß£Êûê‰ª£Á†ÅÂèòÂåñÔºå‰∏îËß£ÊûêÂâçÈúÄË¶ÅÈÅçÂéÜÔºåÂ¶ÇÊûúËÉΩÂ∞ÜÊï∞ÊçÆÂ∫ìËÆ∞ÂΩïÂ∞ÅË£ÖÊàêpojoÂØπË±°Ëß£ÊûêÊØîËæÉÊñπ‰æø„ÄÇ<br>Ëß£ÂÜ≥ÔºöMybatisËá™Âä®Â∞ÜsqlÊâßË°åÁªìÊûúÊò†Â∞ÑËá≥javaÂØπË±°ÔºåÈÄöËøástatement‰∏≠ÁöÑresultTypeÂÆö‰πâËæìÂá∫ÁªìÊûúÁöÑÁ±ªÂûã„ÄÇ</p>
<h1 id="MybatisÂíåHibernateÂå∫Âà´"><a href="#MybatisÂíåHibernateÂå∫Âà´" class="headerlink" title="MybatisÂíåHibernateÂå∫Âà´"></a>MybatisÂíåHibernateÂå∫Âà´</h1><p>MybatisÂíåhibernate‰∏çÂêåÔºåÂÆÉ‰∏çÂÆåÂÖ®ÊòØ‰∏Ä‰∏™ORMÊ°ÜÊû∂ÔºåÂõ†‰∏∫<code>MyBatisÈúÄË¶ÅÁ®ãÂ∫èÂëòËá™Â∑±ÁºñÂÜôSqlËØ≠Âè•</code>„ÄÇmybatisÂèØ‰ª•ÈÄöËøáXMLÊàñÊ≥®Ëß£ÊñπÂºèÁÅµÊ¥ªÈÖçÁΩÆË¶ÅËøêË°åÁöÑsqlËØ≠Âè•ÔºåÂπ∂Â∞ÜjavaÂØπË±°ÂíåsqlËØ≠Âè•Êò†Â∞ÑÁîüÊàêÊúÄÁªàÊâßË°åÁöÑsqlÔºåÊúÄÂêéÂ∞ÜsqlÊâßË°åÁöÑÁªìÊûúÂÜçÊò†Â∞ÑÁîüÊàêjavaÂØπË±°„ÄÇ</p>
<p>MybatisÂ≠¶‰π†Èó®Êßõ‰ΩéÔºåÁÆÄÂçïÊòìÂ≠¶ÔºåÁ®ãÂ∫èÂëòÁõ¥Êé•ÁºñÂÜôÂéüÁîüÊÄÅsqlÔºåÂèØ‰∏•Ê†ºÊéßÂà∂sqlÊâßË°åÊÄßËÉΩÔºåÁÅµÊ¥ªÂ∫¶È´òÔºåÈùûÂ∏∏ÈÄÇÂêàÂØπÂÖ≥Á≥ªÊï∞ÊçÆÊ®°ÂûãË¶ÅÊ±Ç‰∏çÈ´òÁöÑËΩØ‰ª∂ÂºÄÂèëÔºå‰æãÂ¶Ç‰∫íËÅîÁΩëËΩØ‰ª∂„ÄÅ‰ºÅ‰∏öËøêËê•Á±ªËΩØ‰ª∂Á≠âÔºåÂõ†‰∏∫ËøôÁ±ªËΩØ‰ª∂ÈúÄÊ±ÇÂèòÂåñÈ¢ëÁπÅÔºå‰∏Ä‰ΩÜÈúÄÊ±ÇÂèòÂåñË¶ÅÊ±ÇÊàêÊûúËæìÂá∫ËøÖÈÄü„ÄÇ‰ΩÜÊòØÁÅµÊ¥ªÁöÑÂâçÊèêÊòØ<code>mybatisÊó†Ê≥ïÂÅöÂà∞Êï∞ÊçÆÂ∫ìÊó†ÂÖ≥ÊÄß</code>ÔºåÂ¶ÇÊûúÈúÄË¶ÅÂÆûÁé∞ÊîØÊåÅÂ§öÁßçÊï∞ÊçÆÂ∫ìÁöÑËΩØ‰ª∂ÂàôÈúÄË¶ÅËá™ÂÆö‰πâÂ§öÂ•ósqlÊò†Â∞ÑÊñá‰ª∂ÔºåÂ∑•‰ΩúÈáèÂ§ß„ÄÇ</p>
<p>HibernateÂØπË±°/ÂÖ≥Á≥ªÊò†Â∞ÑËÉΩÂäõÂº∫Ôºå<code>Êï∞ÊçÆÂ∫ìÊó†ÂÖ≥ÊÄßÂ•Ω</code>ÔºåÂØπ‰∫éÂÖ≥Á≥ªÊ®°ÂûãË¶ÅÊ±ÇÈ´òÁöÑËΩØ‰ª∂Ôºà‰æãÂ¶ÇÈúÄÊ±ÇÂõ∫ÂÆöÁöÑÂÆöÂà∂ÂåñËΩØ‰ª∂ÔºâÂ¶ÇÊûúÁî®hibernateÂºÄÂèëÂèØ‰ª•ËäÇÁúÅÂæàÂ§ö‰ª£Á†ÅÔºåÊèêÈ´òÊïàÁéá„ÄÇ‰ΩÜÊòØHibernateÁöÑÂ≠¶‰π†Èó®ÊßõÈ´òÔºåË¶ÅÁ≤æÈÄöÈó®ÊßõÊõ¥È´òÔºåËÄå‰∏îÊÄé‰πàËÆæËÆ°O/RÊò†Â∞ÑÔºåÂú®ÊÄßËÉΩÂíåÂØπË±°Ê®°Âûã‰πãÈó¥Â¶Ç‰ΩïÊùÉË°°Ôºå‰ª•ÂèäÊÄéÊ†∑Áî®Â•ΩHibernateÈúÄË¶ÅÂÖ∑ÊúâÂæàÂº∫ÁöÑÁªèÈ™åÂíåËÉΩÂäõÊâçË°å„ÄÇ</p>

  <p><a class="classtest-link" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" rel="tag">Â≠¶‰π†Á¨îËÆ∞</a> ‚Äî Nov 19, 2018</p>
  


        </div>
        <div class="row mt-2">
  <h3>Search</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with ‚ù§ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Earth" target="_blank" rel="noreferrer">Earth</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/homxuwang" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      

      

      

      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>